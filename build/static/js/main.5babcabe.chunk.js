(this["webpackJsonpadmin-oliver"]=this["webpackJsonpadmin-oliver"]||[]).push([[0],{29:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBw8QDhAODw8SEA8QDQ0QEQ4NDg8PDg8QFRIXFhURExMZKCggGBolGxUVITEiKSktLi4vFx8zODMuNyktLisBCgoKBQUFDgUFDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIAOIA3wMBIgACEQEDEQH/xAAbAAEAAgMBAQAAAAAAAAAAAAAABAUBAgMGB//EADQQAAIBAgQDBwIFBAMAAAAAAAABAgMRBBIhMQUUURMiQVJhcaEykXKBscHRBiPh8CRCYv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD7iAAAAAAAAAAABxxGIjBXe/gluwO1yLWxsI7PM+i/kr6+IlPd6eVbf5OIE2HEXfWKt6br+TWXEJ6pWWuj8UiIAOka8lLNmbfr+haYfFRkujW6ZTgC3pY2Ena9vfxJNzz51o4iUNnp0eqAuwcMNiVNdGt0dwAAAAAAAAAAAAAAAAAAAAADliKyhFyf5LqymqVHJtvd/wC2JHEK2adltHT8/EigAAAAAAAAAABtTm4tNboucPWU43X5roykO2FrZJX8Ho16AXQCAAAAAAAAAAAAAAAAAA1qSsm+ibNjnifol+F/oBRtgAAAAAAAAAAAAAAAuMDO9OPpp9iQQuFvuP8AF+xNAAAAAAAAAAAAAAAAAHOurwkv/L/Q6GJL9AKAGWjAAAAAAAAAAAAAABZ8LXcf4iaRsBG1OPrd/ckgAAAAAAAAAAAAAAAACLjqzhFOO7dr7koi8Rhem/Rp/wAgVUndt9WYAAAAAAAAAAAAAAALPhkm4NdHoTSLw6FqafV3JQAAAAAAAAAAAAAAAAA0qK8WuqaNwB58FjxGgrZ0tb628SuAAAAAAAAAAAAbU4OUlFeLNSy4dh7LO92tPRATYxsklskkZAAAAAAAAAAAAAAAAAAAADWpBSTi/FFFOLTae6di/K/iVD/uvZ/yBXgAAAAAAAAADehTzSUeu/t4l5FWViJw+hljme8vhEwAAAAAAAAAAAAAAAAAAAAAAEfHStTl7JfJIKziNe7yrZb+4EIAAAAAAAAzF6r3RgAX6MkPA4lNKL+pK3uiYAAAAAAAAAAAAAAAAABrKSWraXu7Earj4LbvP02AlnKtXjH6n+Xj9itq46ctu6vTf7kZsCXiMdKWke6vlkQAAAAAAAAAAAABNw+Pa0nquq3IQAvKVaMleLv+p0KBO22nsSKWNnHd5l67/cC3BEo46D0fdfrt9yUmBkAAAAAANZySTb2WoGKlRRV27Ir6+Pb0jouviR8RXc3d7eC6HIDMpN6t392YAAAAAAAAAAAAAAAAAAAAAAAB0pV5R+l/lujmALTD46MtJd1/DJh58mYPFuNoy+nr0/wBaAwjIAr+J1toL3f7E9lHWqZpOXV/HgBoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC34fVzQ9Y6P8AYklVw2padvMrfmi1Aj46dqb9dPuU5P4rP6Y+7/j9yAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABmErNPo0y+hK6T6q5QFtw+pemvRtfwBC4hK9R+iSIxvWleUn1k/wBTQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATuFz1lHqkyCdsHUyzT918AWXJU/L8yHJU/L8yJAAj8lT8vzIclT8vzIkACPyVPy/MhydPy/LJAYEStRoQi5ztGK3lKTSWttzfk6fl+WUHHMBiatWvGEasqVTDxipOvGFKElODtThm+r6nmcVa2kvA4SwfEIOdOKrTpyrRVObxUb06McUptylKWZ3ptpbuys7AekWGovZJ3V1aT1XXc25Ol5fmR46lwPFU4R7KGIhWjhcTSU5Y2U4RnnTUsrqNNSjfLpo7NqNrkylw3Fum808WsuGrKEeZgqyqSqSsnao4yag9HKbtpqmroPScrSvbKr2vbM726mlejQpwlOdowinKUpSajFLdtnmJ8Mxmd1VSrqU8JgYTUMdJyy0683WopyqaVHTlG0uubvpu754nhmPnRr05xrTlUwlSGH/5NNwot9paFeOddpOzp97vbbrdh6/k6fl+ZDk6fl+WU1ajjOU7LLVlWVVOpOFaEZVqarJzVKWZOm5QvZd3LtdaMrcdguItVexWIhJwn2UpYuDjGl2Fo0WnJ/wB5VNc+v4/AD1fJ0/L8s1nhaSTbSSSu25NJLq2VXDMBiKWJUnKrKi+ai1VxDqxUVKn2FlJt3t2mu/XwNv6k4fOrw3EYdwli6s6FaMY/2YOU5KShdNxhaN19vFgWTo0M2Xu5rXy5+9bra+xiFLDySlFxabypqd030TvuUWJ4RVq4jtuyapum6s6Nd0c863ZOlGgqkHLLHLdy8NVZvW0aPDasVCpyVWclxGNenHPg1VoU+4pOSU1TWkXFZbvLvq3cPUctR10Wm/eenjr0NVTw90rxvKOaKz6yj5kr6r1KNcOrSrYuFKg8PTrYilUnVrdlKGJio2nFZJuacnbVpd1W00Kqf9P4uWFwmHWHVOrRw1CM6qqUux7uGdPs5WfaKSvZZe5q2B7GFLDtKScXFvKmp3TfRO+5mFCg24rK5Rtmiptyj7q+h5qvw6rpVWAnm5zCVKdGE8Jmoqm6aqVXeagnKMWlZt26XZYcLwVRY6pWdDsafZVYO8qMoznKtnz08ne72rln1vZLS9wuOSp+X5kOSp+X5kSABH5Kn5fmQ5Kn5fmRIAEfkqfl+ZDkqfl+ZEgAAAAAAAwwAMAADJgADJhgAZMGABsAAAAAAAAAAMgAAAAAAA//2Q=="},44:function(e,t,a){e.exports=a.p+"static/media/logo-mascota.1f7f94c3.png"},45:function(e){e.exports=JSON.parse('[{"id":1,"titulo":"Productos","subtitulo":"Administr\xe1 ahora tus productos","boton":"Administrar","url":"/productos"},{"id":2,"titulo":"Subproductos","subtitulo":"Administr\xe1 la seccion subproductos","boton":"Administrar","url":"/subproductos"},{"id":3,"titulo":"Categorias","subtitulo":"Administr\xe1 ahora las categorias","boton":"Administrar","url":"/categorias"},{"id":4,"titulo":"Subcategorias","subtitulo":"Administrar subcategorias","boton":"Administrar","url":"/subcategorias"},{"id":5,"titulo":"Marcas","subtitulo":"Administra tus casos marcas","boton":"Administrar","url":"marcas"},{"id":6,"titulo":"Tama\xf1os","subtitulo":"Administr\xe1 ahora los tama\xf1os","boton":"Administrar","url":"/tama\xf1os"},{"id":7,"titulo":"Legales","subtitulo":"Actualizar terminos y legales","boton":"Administrar","url":"/legales"},{"id":8,"titulo":"Zonas","subtitulo":"Administrar zonas de env\xedo","boton":"Administrar","url":"/zonas-envio"},{"id":9,"titulo":"Env\xedos","subtitulo":"Ver estado de env\xedos","boton":"Ingresar","url":"/envios"},{"id":10,"titulo":"Medios de pago","subtitulo":"Ver medios de pagos disponibles","boton":"Ingresar","url":"/medios-de-pago"},{"id":11,"titulo":"Banners","subtitulo":"Administr\xe1r banners","boton":"Ingresar","url":"/banners"},{"id":12,"titulo":"Newsletters","subtitulo":"Comunicarse con usuarios","boton":"Ingresar","url":"/usuarios-ofertas"},{"id":13,"titulo":"Ofertas","subtitulo":"-","boton":"Ingresar","url":"/ofertas"}]')},66:function(e,t,a){e.exports=a(88)},71:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),s=(a(71),a(9)),l=a(17),i=a(3),u=a.n(i),m=a(4),d=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.parse(localStorage.getItem("administrador")),(n=new Headers).append("token",a.token),r={method:"DELETE",headers:n,redirect:"follow"},e.next=7,fetch(t,r).then((function(e){return e.json()})).then((function(e){return e}));case 7:return o=e.sent,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),p=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise(function(){var n=Object(m.a)(u.a.mark((function n(r,o){var c,s,l,i,m;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=JSON.parse(localStorage.getItem("administrador")),(s=new Headers).append("token",c.token),s.append("Content-Type","application/json"),l={method:t,headers:s,redirect:"follow",body:a},n.next=7,fetch(e,l);case 7:if(200!==(i=n.sent).status){n.next=13;break}return n.next=11,i.json();case 11:return m=n.sent,n.abrupt("return",r(m));case 13:return n.abrupt("return",o("Problemas en el servidor"));case 14:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())},f=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.parse(localStorage.getItem("administrador")),(n=new Headers).append("token",a.token),r={method:"GET",headers:n,redirect:"follow"},e.next=7,fetch(t,r).then((function(e){return e.json()})).then((function(e){return e}));case 7:return o=e.sent,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.parse(localStorage.getItem("administrador")),(n=new Headers).append("token",a.token),r={method:"PUT",headers:n,redirect:"follow"},e.next=7,fetch(t,r).then((function(e){return e.json()})).then((function(e){return e}));case 7:return o=e.sent,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){if("undefined"!==typeof window)return!(window.innerWidth>860)&&(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/BlackBerry/i)||window.innerWidth<=860)},g=a(10),E=a(44),v=a.n(E),O=Object(n.createContext)(),j=a(12),A=a.n(j),y=a(29),N=a.n(y),x=a(45),S=function(e){var t=e.show,a=Object(n.useContext)(O),o=a.logueado,c=a.logout;return r.a.createElement("div",{className:"menu-lateral ".concat(t?"show":"")},x.map((function(e){return r.a.createElement("div",{className:"my-2 py-2",key:e.id},r.a.createElement(s.b,{to:e.url},r.a.createElement("i",{className:"fas fa-sign-out-alt"})," ",e.titulo))})),o?r.a.createElement("div",{className:"my-2 py-2 d-block d-md-none",style:{color:"white"},onClick:function(){A.a.fire({title:"\xbfSeguro quieres abandonar la sesi\xf3n?",text:"Tendr\xe1s que reingresar tus credenciales otra vez",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar"}).then(function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConfirmed&&(c(),window.location.assign("/ingresar"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-sign-out-alt"})," Salir")):null)},k=(a(78),function(){var e=Object(n.useContext)(O),t=e.logueado,a=e.usuario,o=e.logout,c=Object(n.useState)(!1),l=Object(g.a)(c,2),i=l[0],d=l[1];return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-ligh",style:{backgroundColor:"#FFB347",zIndex:"2"}},r.a.createElement("section",{className:"container-fluid"},r.a.createElement(s.b,{className:"navbar-brand",to:"/"},r.a.createElement("img",{src:v.a,width:35,height:35,alt:"Admin oliver",loading:"lazy"})),t?r.a.createElement("span",{className:"d-block d-md-none",onClick:function(){return d(!i)}},r.a.createElement("img",{src:a.foto?a.foto:N.a,alt:"user",height:34,width:34,style:{borderRadius:"17px"}})):null,r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},t?r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{className:"nav-link dropdown-toggle",href:"/",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("img",{src:a.foto?a.foto:N.a,alt:"user",height:34,width:34,style:{borderRadius:"17px"}})),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement("div",{className:"d-flex align-items-center px-3",style:{cursor:"pointer"},onClick:function(){A.a.fire({title:"\xbfSeguro quieres abandonar la sesi\xf3n?",text:"Tendr\xe1s que reingresar tus credenciales otra vez",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar"}).then(function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConfirmed&&(o(),window.location.assign("/ingresar"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},r.a.createElement("i",{className:"fas fa-sign-out-alt"}),r.a.createElement("p",{className:"my-0 ml-2"},"Salir")))):null))),h()?r.a.createElement(S,{show:i}):null)});var w=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),h()?e.children:r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement(S,null)),r.a.createElement("div",{className:"col-12 col-md-10"},e.children)))},C=(a(79),function(e){return r.a.createElement("div",{className:"box__balance animated fadeIn"},e.avatar?r.a.createElement("div",{className:"box__avatar"},r.a.createElement("img",{src:e.avatar,alt:"Profile",className:"img-fluid"})):r.a.createElement("div",{className:"box__icon"},r.a.createElement("i",{className:e.icon})),r.a.createElement("div",{className:"box__data"},r.a.createElement("h4",null,e.valor),r.a.createElement("span",{className:"text-muted"},e.label)),e.detalle?r.a.createElement("div",{className:"box__detalle ".concat(e.colorDetalle?e.colorDetalle:"")},r.a.createElement("i",{className:e.iconDetalle})," ",e.detalle):null)}),V=a(110),R=Object(n.createContext)(),T=a(22),P=a.n(T),M=function(){var e=Object(n.useState)(new Date),t=Object(g.a)(e,2),a=t[0],o=t[1],c=Object(n.useContext)(R),s=c.formatoFecha,l=c.fecha,i=c.aplicarFecha,u=c.traerInfo;Object(n.useEffect)((function(){i(P()(a).format(s))}),[]),Object(n.useEffect)((function(){l&&i(P()(a).format(s))}),[s]),Object(n.useEffect)((function(){l&&u()}),[l]);return r.a.createElement(V.a,{autoOk:!0,orientation:"landscape",variant:"static",openTo:"date",value:a,onChange:function(e){var t=P()(e._d).format(s);i(t),o(e._d)}})},I=(a(81),function(e){return r.a.createElement("div",{className:"lista__usuarios"},r.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},r.a.createElement("h3",null,e.titulo),e.btnReload?r.a.createElement("i",{className:"fas fa-redo-alt",id:"btnReload",onClick:e.reload}):null),r.a.createElement("section",{className:"lista__body"},e.children))}),D=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-center my-5"},r.a.createElement("div",{className:"lds-dual-ring"}),r.a.createElement("style",{jsx:!0},'\n                    .lds-dual-ring {\n                        display: inline-block;\n                        width: 80px;\n                        height: 80px;\n                    }\n                    .lds-dual-ring:after {\n                        content: " ";\n                        display: block;\n                        width: 64px;\n                        height: 64px;\n                        margin: 8px;\n                        border-radius: 50%;\n                        border: 6px solid #fff;\n                        border-color: #000 transparent #000 transparent;\n                        animation: lds-dual-ring 1.2s linear infinite;\n                    }\n                    @keyframes lds-dual-ring {\n                        0% {\n                            transform: rotate(0deg);\n                        }\n                        100% {\n                            transform: rotate(360deg);\n                        }\n                    }\n                ')))},B=Object(n.createContext)(),_=function(){var e=Object(n.useContext)(B),t=e.loading,a=(e.error,e.ultimasVentas),o=e.traerUltimas;Object(n.useEffect)((function(){o()}),[]);return r.a.createElement(I,{titulo:"\xdaltimas ventas",btnReload:!0,reload:function(){o()}},t||!a.length?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,a.map((function(e){return r.a.createElement(C,{key:e.idVenta,valor:e.total,label:e.nombre,detalle:1==e.pagado?"Pago aprobado":"Pago pendiente",iconDetalle:1==e.pagado?"fas fa-check":"fas fa-exclamation",colorDetalle:1==e.pagado?"success":"warning",avatar:e.foto&&"null"!==e.foto?e.foto:N.a})}))))},F=(a(82),function(e){return r.a.createElement("button",{type:"button",className:"".concat(e.color," animated fadeIn my-2"),id:"btn__circle",onClick:e.link?function(){return t=e.link,void window.location.assign(t);var t}:e.action},e.icon?r.a.createElement("i",{className:e.icon}):null,e.value)}),U=a(33),L=Object(n.createContext)(),q=function(){var e=Object(n.useContext)(L),t=e.dataInforme,a=e.traerDataInforme;return Object(n.useEffect)((function(){a()}),[]),t?r.a.createElement(U.a,{width:"100%",height:"300px",chartType:"PieChart",loader:r.a.createElement(D,null),data:[["Task","Hours per Day"],["Mercado pago",t.mercado_pago],["Efectivo",t.efectivo]],options:{title:"Venta por medio",is3D:!0},rootProps:{"data-testid":"2"}}):r.a.createElement(D,null)},G=function(){return r.a.createElement(U.a,{height:"300px",chartType:"LineChart",loader:r.a.createElement(D,null),data:[["Mes","Recaudaci\xf3n"],["Enero",37],["Febrero",19.5],["Marzo",52],["Abril",22],["Mayo",16.5],["Junio",32.8]],options:{hAxis:{title:"Meses"},vAxis:{title:"Recaudaci\xf3n"}},rootProps:{"data-testid":"1"}})},H=function(){var e=Object(n.useState)(""),t=Object(g.a)(e,2),a=t[0],o=t[1],c=Object(n.useContext)(R),s=c.formatoFecha,l=c.cambiarFormatoFecha;Object(n.useEffect)((function(){o(s)}),[]);return""==a?null:r.a.createElement("select",{className:"form-control",style:{width:"250px"},defaultValue:a,onChange:function(e){o(e.target.value),l(e.target.value)}},r.a.createElement("option",{value:"YYYY-MM-DD"},"Datos del d\xeda"),r.a.createElement("option",{value:"YYYY-MM"},"Datos del mes"))},J=(a(83),function(e){return Object(n.useEffect)((function(){document.querySelector(".modal-dialog").classList.add("show")}),[]),c.a.createPortal(r.a.createElement("div",{className:"Modal"},r.a.createElement("div",{className:"modal-dialog",id:"body__modal_buscador"},r.a.createElement("div",{className:"modal-content"},e.children,r.a.createElement("i",{onClick:e.closeModal,className:"fas fa-times",style:{cursor:"pointer"}})))),document.getElementById("modal"))}),z=a(13),K=a(1),W=Object(n.createContext)(),Z=function(){var e=Object(n.useContext)(W),t=e.data,a=e.loading,o=(e.error,e.traerTodas),c=e.aplicarAumento,s=Object(n.useState)({idMarca:"",aumento:""}),l=Object(g.a)(s,2),i=l[0],d=l[1],p=Object(n.useState)(!1),f=Object(g.a)(p,2),b=f[0],h=f[1],E=Object(n.useState)(!1),v=Object(g.a)(E,2),O=v[0],j=v[1];Object(n.useEffect)((function(){o()}),[]);var A=function(e){d(Object(K.a)(Object(K.a)({},i),{},Object(z.a)({},e.target.name,e.target.value)))},y=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"object"!=typeof(a=N())){e.next=5;break}return a.key?h("Completa el campo ".concat(a.key)):h(a.msg),e.abrupt("return",!1);case 5:return h(!1),e.next=8,c(i);case 8:j("Se han aplicado los aumentos correspondientes");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){for(var e in i){if(Object.hasOwnProperty.call(i,e))if(""==i[e])return{ok:!1,key:e}}return!isNaN(parseInt(i.aumento))||{ok:!1,msg:"No es posible aumentar con ese formato"}};return 0==t.length||a?r.a.createElement(D,null):r.a.createElement("form",{className:"form-group",onSubmit:y},r.a.createElement("h2",null,"Aumento por Marca"),b?r.a.createElement("div",{className:"alert alert-danger text-center"},b):null,O?r.a.createElement("div",{className:"alert alert-success text-center"},O):null,r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-5 my-2"},r.a.createElement("select",{className:"form-control",name:"idMarca",defaultValue:i.idMarca,onChange:A},r.a.createElement("option",{value:""},"Seleccione una marca"),t.map((function(e){return r.a.createElement("option",{value:e.idMarca,key:e.idMarca},e.marca)})))),r.a.createElement("div",{className:"col-12 col-md-5 my-2"},r.a.createElement("input",{type:"text",name:"aumento",className:"form-control",placeholder:"Porcentaje de aumento",value:i.aumento,onChange:A})),r.a.createElement("div",{className:"col-12 col-md-2 my-2"},r.a.createElement("input",{type:"submit",value:"Aplicar",className:"btn btn-info btn-block"}))))},Y=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(Z,null))},Q=function(){var e=Object(n.useContext)(O).usuario,t=Object(n.useContext)(R),a=t.data,o=a.recaudacion,c=a.ventas,s=a.usuarios,l=a.sin_stock,i=t.loading,u=Object(n.useState)(!1),m=Object(g.a)(u,2),d=m[0],p=m[1],f=function(){p(!d)};return e?r.a.createElement("div",{className:"container mt-2 mb-5"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement("h2",null,"Hola, ",e.nombre),r.a.createElement(H,null)),r.a.createElement("div",{className:"row"},i?r.a.createElement("div",{className:"text-center"},r.a.createElement(D,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-12 col-sm-6 col-md-3"},r.a.createElement(C,{valor:c,label:"ventas",icon:"fas fa-money-bill-alt"})),r.a.createElement("div",{className:"col-12 col-sm-6 col-md-3"},r.a.createElement(C,{valor:s,label:"Nuevos usuarios",icon:"fas fa-users"})),r.a.createElement("div",{className:"col-12 col-sm-6 col-md-3"},r.a.createElement(C,{valor:o||0,label:"Recaudaci\xf3n",icon:"fas fa-cash-register"})),r.a.createElement("div",{className:"col-12 col-sm-6 col-md-3"},r.a.createElement(C,{valor:l,label:"Sin stock",icon:"fas fa-exclamation"})))),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-sm-6"},r.a.createElement(M,null)),r.a.createElement("div",{className:"col-12 col-sm-6"},r.a.createElement(_,null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-8 my-2"},r.a.createElement(G,null)),r.a.createElement("div",{className:"col-12 col-md-4 my-2"},r.a.createElement(q,null))),r.a.createElement("br",null),r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-6 col-md-3"},r.a.createElement(F,{icon:"fas fa-arrow-circle-up",value:"Aumentos masivos",color:"success",action:f})),r.a.createElement("div",{className:"col-6 col-md-3"},r.a.createElement(F,{icon:"fas fa-truck",value:"Estado de mis env\xedos",color:"success",link:"/envios"})),r.a.createElement("div",{className:"col-6 col-md-3"},r.a.createElement(F,{icon:"fas fa-plus",value:"Nuevo producto",color:"success",link:"/producto/agregar"})),r.a.createElement("div",{className:"col-6 col-md-3"},r.a.createElement(F,{icon:"fas fa-credit-card",value:"Nuevo medio de pago",color:"success",link:"/medios-de-pago"}))),r.a.createElement("br",null),d?r.a.createElement(J,{closeModal:f},r.a.createElement(Y,null)):null):r.a.createElement(D,null)},X=(a(84),a(12)),$=function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(g.a)(t,2),o=a[0],c=a[1],s=Object(n.useContext)(O),l=s.loading,i=s.error,u=s.logueado,m=s.usuario,d=s.login;Object(n.useEffect)((function(){u&&window.location.assign("/")}),[]),Object(n.useEffect)((function(){u&&m&&X.fire("Bienvenido","Hola ".concat(m.nombre,", bienvenido."),"success").then((function(){e.history.push("/")}))}),[u]),Object(n.useEffect)((function(){i&&X.fire("Error",i.info,"error")}),[i]);var p=function(e){c(Object(K.a)(Object(K.a)({},o),{},Object(z.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"myForm"},r.a.createElement("form",{className:"bg-dark text-white p-5",onSubmit:function(e){if(e.preventDefault(),""===o.email.trim()||""===o.password.trim())return!1;d(o)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{className:"form-control input-lg text-center",type:"email",name:"email",id:"email",placeholder:"Ingrese su Email...",onChange:p,value:o.email})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),r.a.createElement("input",{className:"form-control input-lg text-center",type:"password",name:"password",placeholder:"Ingrese su Contrase\xf1a...",onChange:p,value:o.password})),r.a.createElement("div",{className:"form-group mt-5"},l?r.a.createElement(D,null):r.a.createElement("input",{type:"submit",name:"submit",className:"btn btn-success btn-block",value:"Ingresar"}))))},ee=a(5),te=a(6),ae=a(8),ne=a(7),re=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},this.props.producto.producto),r.a.createElement("td",null,this.props.producto.marca),r.a.createElement("td",null,this.props.producto.categoria),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-outline-danger mx-1",onClick:function(){return e.props.delete(e.props.producto.idProducto)}},r.a.createElement("i",{className:"fas fa-trash-alt"})),r.a.createElement(s.b,{className:"btn btn-outline-warning mx-1",to:"/producto/editar/".concat(this.props.producto.idProducto)},r.a.createElement("i",{className:"fas fa-pen"}))))}}]),a}(r.a.Component),oe=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container mt-3",style:{height:"80vh",overflowY:"scroll"}},r.a.createElement("table",{className:"table table-hover text-center"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Producto"),r.a.createElement("th",{scope:"col"},"Marca"),r.a.createElement("th",{scope:"col"},"Categoria"),r.a.createElement("th",{scope:"col"},r.a.createElement(s.b,{to:"/producto/agregar",className:"btn btn-outline-success"},"Agregar producto")))),r.a.createElement("tbody",null,this.props.products.map((function(t){return r.a.createElement(re,{key:t.idProducto,producto:t,delete:e.props.delete})})))))}}]),a}(r.a.Component),ce=oe,se="https://api.oliverpetshop.com.ar",le=a(12),ie=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).state={data:[],loading:!1,error:null,desde:1,limite:50},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),this.getProductos()}},{key:"getProductos",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/productos?desde=").concat(this.state.desde,"&limite=").concat(this.state.limite,"&admin=true"));case 3:t=e.sent,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{data:t.data,loading:!1})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{error:e.t0,loading:!1}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(e){le.fire({title:"\xbfSeguro quieres eliminar el producto?",text:"Este producto hace referencia a otros subproductos, de eliminarlos se eliminar\xe1n los subproductos tambien",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar"}).then(function(){var t=Object(m.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.isConfirmed){t.next=4;break}return t.next=3,d("".concat(se,"/productos/delete/").concat(e));case 3:le.fire("Eliminado","Recurso eliminado","success").then((function(){window.location.assign("/productos")}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"cargarMas",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){t.setState(Object(K.a)(Object(K.a)({},t.state),{},{desde:t.state.desde+49})),e()})).then((function(){t.getProductos()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"buscarProducto",value:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==(a=t.target.value).length){e.next=4;break}return e.abrupt("return",this.cargarMas());case 4:if(!(a.length<3)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,f("".concat(se,"/productos/buscar?busqueda=").concat(a));case 8:n=e.sent,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{data:n.data})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container pt-3"},r.a.createElement("input",{type:"text",className:"form-control d-none",id:"buscador",onChange:this.buscarProducto.bind(this),placeholder:"Ingrese el nombre del producto"})),r.a.createElement(ce,{products:this.state.data,delete:this.delete}),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{className:"btn btn-info mt-3 mx-2",onClick:function(){return e.cargarMas(e.state.desde,e.state.limite)}},"Ver m\xe1s"),r.a.createElement("button",{className:"btn btn-warning mt-3 mx-2",onClick:function(){return document.getElementById("buscador").classList.toggle("d-none")}},"Buscar")))}}]),a}(r.a.Component),ue=ie,me=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},this.props.marca.idMarca),r.a.createElement("td",null,this.props.marca.marca),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-outline-danger mx-1",onClick:function(){return e.props.delete(e.props.marca.idMarca)}},r.a.createElement("i",{className:"fas fa-trash-alt"})),r.a.createElement(s.b,{className:"btn btn-outline-warning mx-1",to:"/marca/editar/".concat(this.props.marca.idMarca)},r.a.createElement("i",{className:"fas fa-pen"}))))}}]),a}(r.a.Component),de=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("table",{className:"table text-center table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Marca"),r.a.createElement("th",{scope:"col"},r.a.createElement(s.b,{to:"/marca/agregar",className:"btn btn-outline-success"},"Agregar marca")))),r.a.createElement("tbody",null,this.props.marcas.map((function(t){return r.a.createElement(me,{delete:e.props.delete,key:t.idMarca,marca:t})})))))}}]),a}(r.a.Component),pe=de,fe=a(12),be=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).state={data:[],error:null,loading:!1},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),this.getMarcas()}},{key:"componentWillUnmount",value:function(){}},{key:"getMarcas",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/marcas"));case 3:t=e.sent,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{data:t.data,loading:!1})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!1,error:e.t0}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(e){fe.fire({title:"\xbfSeguro quieres eliminar la marca?",text:"Puede que existan productos con esta marca, ser\xe1n eliminados tambien",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar"}).then(function(){var t=Object(m.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.isConfirmed){t.next=4;break}return t.next=3,d("".concat(se,"/marcas/delete/").concat(e));case 3:fe.fire("Eliminado","Recurso eliminado","success").then((function(){window.location.assign("/marcas")}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{marcas:this.state.data,delete:this.delete}))}}]),a}(r.a.Component),he=be,ge=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container bg-light border rounded p-4"},r.a.createElement("form",{onSubmit:this.props.onSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6"},r.a.createElement("label",null,"Nombre del producto: (obligatorio)"),r.a.createElement("input",{required:!0,onChange:this.props.onChange,className:"form-control",type:"text",name:"producto",defaultValue:this.props.formValues.producto})),r.a.createElement("div",{className:"form-group col-12 col-md-6"},r.a.createElement("label",null,"Precio por unidad: (no es obligatorio)"),r.a.createElement("input",{required:!0,onChange:this.props.onChange,className:"form-control",type:"number",step:"any",name:"precioUnidad",value:this.props.formValues.precioUnidad})),r.a.createElement("div",{className:"form-group col-12 col-md-3"},r.a.createElement("label",null,"Categoria:"),r.a.createElement("select",{required:!0,className:"form-control",name:"idCategoria",defaultValue:this.props.formValues.idCategoria,onChange:this.props.onChange},this.props.categorias.map((function(e){return r.a.createElement("option",{value:e.idCategoria,key:e.idCategoria},e.categoria)})))),r.a.createElement("div",{className:"form-group col-12 col-md-3"},r.a.createElement("label",null,"Subcategoria:"),r.a.createElement("select",{required:!0,className:"form-control",name:"idSubCategoria",defaultValue:this.props.formValues.idSubCategoria,onChange:this.props.onChange},this.props.subCategorias.map((function(e){return r.a.createElement("option",{value:e.idSubCategoria,key:e.idSubCategoria},e.subcategoria)})))),r.a.createElement("div",{className:"form-group col-12 col-md-3"},r.a.createElement("label",null,"Marca:"),r.a.createElement("select",{required:!0,className:"form-control",name:"idMarca",defaultValue:this.props.formValues.idMarca,onChange:this.props.onChange},this.props.marcas.map((function(e){return r.a.createElement("option",{value:e.idMarca,key:e.idMarca},e.marca)})))),r.a.createElement("div",{className:"form-group col-12 col-md-3"},r.a.createElement("label",null,"Mostrar en web: "),r.a.createElement("select",{required:!0,className:"form-control",name:"mostrar",defaultValue:this.props.formValues.mostrar,onChange:this.props.onChange},r.a.createElement("option",{value:"0"},"No"),r.a.createElement("option",{value:"1"},"Si"))),r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",null,"Descripci\xf3n: "),r.a.createElement("textarea",{required:!0,onChange:this.props.onChange,className:"form-control",rows:"8",name:"descripcionBasica",defaultValue:this.props.formValues.descripcionBasica})),r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",null,"Informacion nutricional:"),r.a.createElement("textarea",{required:!0,onChange:this.props.onChange,className:"form-control",rows:"12",name:"descripcion",defaultValue:this.props.formValues.descripcion})),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success btn-block"},"Guardar"))))}}]),a}(r.a.Component),Ee=ge,ve=a(12),Oe=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(K.a)(Object(K.a)({},n.state),{},{formValues:Object(K.a)(Object(K.a)({},n.state.formValues),{},Object(z.a)({},e.target.name,e.target.value))}))},n.handleSubmit=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!0})),a=JSON.parse(localStorage.getItem("administrador")),(r=new Headers).append("token",a.token),r.append("Content-Type","application/json"),o={method:"POST",headers:r,body:JSON.stringify(n.state.formValues),redirect:"follow"},e.next=9,fetch("".concat(se,"/productos/add"),o);case 9:if(200==e.sent.status){e.next=12;break}return e.abrupt("return",ve.fire({icon:"error",title:"Oops...",text:"Error al registrar el producto"}));case 12:ve.fire("Guardado exitoso","Se guard\xf3 el producto de manera exitosa!","success").then((function(){return n.props.history.push("/productos")}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={formValues:{producto:"",precioUnidad:"",descripcion:"",descripcionBasica:"",mostrar:0,idCategoria:0,idMarca:0,idSubCategoria:0},loading:!1,error:null,categorias:[],subCategorias:[],marcas:[]},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),e.next=4,this.getCategorias();case 4:return e.next=6,this.getSubCategorias();case 6:return e.next=8,this.getMarcas();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{error:e.t0,loading:!1}));case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"getCategorias",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/categorias"));case 3:return t=e.sent,e.abrupt("return",this.setState(Object(K.a)(Object(K.a)({},this.state),{},{categorias:t.data,formValues:Object(K.a)(Object(K.a)({},this.state.formValues),{},{idCategoria:t.data[0].idCategoria})})));case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{error:e.t0,loading:!1}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSubCategorias",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/subcategorias"));case 3:return t=e.sent,e.abrupt("return",this.setState(Object(K.a)(Object(K.a)({},this.state),{},{subCategorias:t.data,formValues:Object(K.a)(Object(K.a)({},this.state.formValues),{},{idSubCategoria:t.data[0].idSubCategoria})})));case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{error:e.t0,loading:!1}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getMarcas",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/marcas"));case 3:return t=e.sent,e.abrupt("return",this.setState(Object(K.a)(Object(K.a)({},this.state),{},{marcas:t.data,formValues:Object(K.a)(Object(K.a)({},this.state.formValues),{},{idMarca:t.data[0].idMarca}),loading:!1})));case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{error:e.t0,loading:!1}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement("div",{className:"row justify-content-between px-3"},r.a.createElement("p",{className:"text-center h3 mb-2"},"Agregar producto"),r.a.createElement(s.b,{to:"/productos",className:"mb-2 btn btn-outline-danger float"},"Volver al listado")),r.a.createElement(Ee,{onChange:this.handleChange,formValues:this.state.formValues,categorias:this.state.categorias,subCategorias:this.state.subCategorias,marcas:this.state.marcas,onSubmit:this.handleSubmit})))}}]),a}(r.a.Component),je=Oe,Ae=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},this.props.categoria.idCategoria),r.a.createElement("td",null,this.props.categoria.categoria),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-outline-danger mx-1",onClick:function(){return e.props.delete(e.props.categoria.idCategoria)}},r.a.createElement("i",{className:"fas fa-trash-alt"})),r.a.createElement(s.b,{className:"btn btn-outline-warning mx-1",to:"/categoria/editar/".concat(this.props.categoria.idCategoria)},r.a.createElement("i",{className:"fas fa-pen"}))))}}]),a}(r.a.Component),ye=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("table",{className:"table text-center table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"id"),r.a.createElement("th",{scope:"col"},"Categoria"),r.a.createElement("th",{scope:"col"},r.a.createElement(s.b,{to:"/categoria/agregar",className:"btn btn-outline-success"},"Agregar categoria")))),r.a.createElement("tbody",null,this.props.categorias.map((function(t){return r.a.createElement(Ae,{key:t.idCategoria,categoria:t,delete:e.props.delete})})))))}}]),a}(r.a.Component),Ne=ye,xe=a(12),Se=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).state={data:[],error:null,loading:!1},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),this.getCategorias()}},{key:"getCategorias",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/categorias"));case 3:t=e.sent,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{data:t.data,loading:!1})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!1,error:e.t0}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.fire({title:"\xbfSeguro quieres eliminar la categor\xeda?",text:"Esta acci\xf3n no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar"}).then(function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=4;break}return e.next=3,d("".concat(se,"/categorias/delete/").concat(t));case 3:return e.abrupt("return",xe.fire("Eliminado","Recurso eliminado","success").then((function(){return window.location.assign("/categorias")})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,{categorias:this.state.data,delete:this.delete}))}}]),a}(r.a.Component),ke=Se,we=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).habilitarInputfile=function(e){document.getElementById("input-file-categoria").classList.toggle("d-none")},e}return Object(te.a)(a,[{key:"render",value:function(){return void 0===this.props.formValues?null:r.a.createElement("div",{className:"container bg-light border rounded p-4"},r.a.createElement("form",{onSubmit:this.props.onSubmit,id:"form-categoria"},r.a.createElement("div",{className:"form-group"},this.props.add?null:r.a.createElement("img",{src:this.props.formValues.foto,alt:this.props.formValues.categoria,width:"80px",height:"80px",className:"d-block"}),r.a.createElement("label",null,"Categoria"),r.a.createElement("input",{onChange:this.props.onChange,className:"form-control",type:"text",name:"categoria",defaultValue:this.props.formValues.categoria,required:!0})),this.props.add?r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Icono de categoria"),r.a.createElement("input",{type:"file",name:"foto",className:"form-control"})):r.a.createElement("div",{className:"form-group col-12 col-md-4"},r.a.createElement("input",{type:"checkbox",onChange:this.habilitarInputfile})," Modificar im\xe1gen de la categoria",r.a.createElement("input",{type:"file",id:"input-file-categoria",name:"foto",className:"form-control d-none"})),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success btn-block"},"Guardar")))}}]),a}(r.a.Component),Ce=we,Ve=a(12),Re=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(K.a)(Object(K.a)({},n.state),{},{formValues:Object(z.a)({},e.target.name,e.target.value)}))},n.handleSubmit=function(e){e.preventDefault(),n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!0}));var t=JSON.parse(localStorage.getItem("administrador")),a=new Headers;a.append("token",t.token);var r={method:"POST",body:new FormData(document.getElementById("form-categoria")),headers:a};fetch("".concat(se,"/categorias/add"),r).then((function(e){return e.json()})).then((function(e){if(n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!1})),e.error)return Ve.fire({icon:"error",title:"Oops...",text:e.error});Ve.fire("Guardado exitoso","Se guard\xf3 la categoria de manera exitosa!","success").then((function(){return n.props.history.push("/categorias")}))})).catch((function(e){return console.log("error",e)}))},n.state={loading:!1,error:null,formValues:{categoria:""}},n}return Object(te.a)(a,[{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement(s.b,{to:"/categorias",className:"mb-2 btn btn-outline-danger float"},"Volver al listado"),r.a.createElement("p",{className:"text-center h3 mb-2"},"Agregar categoria"),r.a.createElement(Ce,{add:!0,onChange:this.handleChange,formValues:this.state.formValues,onSubmit:this.handleSubmit})))}}]),a}(r.a.Component),Te=Re,Pe=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),n=t.call(this,e),console.log(e),n}return Object(te.a)(a,[{key:"habilitarFormImagen",value:function(e){document.getElementById("form-imagen").classList.toggle("d-none")}},{key:"render",value:function(){return"modificar"===this.props.accion&&this.props.formValues?r.a.createElement("div",{className:"container bg-light border rounded p-4"},r.a.createElement("form",{onSubmit:this.props.onSubmit,id:"formAgregarMarca"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Marca"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",name:"marca",defaultValue:this.props.formValues.marca,onChange:this.props.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Destacada"),r.a.createElement("select",{className:"form-control",defaultValue:this.props.formValues.destacada,name:"destacada",onChange:this.props.handleChange},r.a.createElement("option",{value:"0"},"No"),r.a.createElement("option",{value:"1"},"Si"))),r.a.createElement("input",{type:"checkbox",className:"mb-4",onChange:this.habilitarFormImagen})," Modificar foto de la marca",r.a.createElement("div",{className:"form-group d-none",id:"form-imagen"},r.a.createElement("label",null,"Im\xe1gen de la marca"),r.a.createElement("input",{className:"form-control",type:"file",name:"imagen"})),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success btn-block"},"Guardar"))):r.a.createElement("div",{className:"container bg-light border rounded p-4"},r.a.createElement("form",{onSubmit:this.props.onSubmit,id:"formAgregarMarca"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Marca"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",name:"marca"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Destacada"),r.a.createElement("select",{className:"form-control",name:"destacada"},r.a.createElement("option",{value:"0"},"No"),r.a.createElement("option",{value:"1"},"Si"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Im\xe1gen de la marca"),r.a.createElement("input",{required:!0,className:"form-control",type:"file",name:"imagen"})),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success btn-block"},"Guardar")))}}]),a}(r.a.Component),Me=Pe,Ie=a(12),De=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),n.setState({loading:!0});var t=JSON.parse(localStorage.getItem("administrador")),a=new Headers;a.append("token",t.token);var r=new FormData(document.getElementById("formAgregarMarca")),o={method:"POST",headers:a,body:r,redirect:"follow"};fetch("".concat(se,"/marcas/add"),o).then((function(e){return e.json()})).then((function(e){n.setState({loading:!1}),Ie.fire("Guardado exitoso","Se guard\xf3 "+r.get("marca")+" de manera exitosa!","success").then((function(){return n.props.history.push("/marcas")}))})).catch((function(e){return console.log("error",e)}))},n.state={loading:!1},n}return Object(te.a)(a,[{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement(s.b,{to:"/marcas",className:"mb-2 btn btn-outline-danger float"},"Volver al listado"),r.a.createElement("p",{className:"text-center h3 mb-2"},"Agregar marca"),r.a.createElement(Me,{onChange:this.handleChange,onSubmit:this.handleSubmit,loading:this.state.loading,accion:"agregar"})))}}]),a}(r.a.Component),Be=a(12),_e=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(K.a)(Object(K.a)({},n.state),{},{formValues:Object(K.a)(Object(K.a)({},n.state.formValues),{},Object(z.a)({},e.target.name,e.target.value))}))},n.handleSubmit=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!0})),a=JSON.parse(localStorage.getItem("administrador")),console.log(n.state),(r=new Headers).append("token",a.token),r.append("Content-Type","application/json"),o={method:"PUT",headers:r,body:JSON.stringify(n.state.formValues)},e.next=10,fetch("".concat(se,"/productos/update/").concat(n.props.match.params.productId),o);case 10:if(200==e.sent.status){e.next=13;break}return e.abrupt("return",Be.fire({icon:"error",title:"Oops...",text:"Error al modificar el producto"}));case 13:Be.fire("Guardado exitoso","Se modific\xf3 el producto de manera exitosa!","success").then((function(){return n.props.history.push("/productos")}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={formValues:{producto:"",precioUnidad:"",descripcion:"",descripcionBasica:"",mostrar:1,idCategoria:0,idMarca:0,idSubCategoria:0},loading:!1,error:null,categorias:[],marcas:[],subCategorias:[]},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),e.next=4,this.getProducto();case 4:return e.next=6,this.getCategorias();case 6:return e.next=8,this.getSubCategorias();case 8:return e.next=10,this.getMarcas();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{error:e.t0,loading:!1}));case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"getProducto",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/productos/").concat(this.props.match.params.productId));case 3:return t=e.sent,e.abrupt("return",this.setState(Object(K.a)(Object(K.a)({},this.state),{},{formValues:{producto:t.data[0].producto,precioUnidad:t.data[0].precioUnidad,descripcion:t.data[0].descripcion,descripcionBasica:t.data[0].descripcion_basica,mostrar:t.data[0].mostrar,idCategoria:t.data[0].idCategoria,idMarca:t.data[0].idMarca,idSubCategoria:t.data[0].idSubCategoria}})));case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{error:e.t0,loading:!1}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getCategorias",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/categorias"));case 3:return t=e.sent,e.abrupt("return",this.setState(Object(K.a)(Object(K.a)({},this.state),{},{categorias:t.data})));case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{error:e.t0,loading:!1}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSubCategorias",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/subcategorias"));case 3:return t=e.sent,e.abrupt("return",this.setState(Object(K.a)(Object(K.a)({},this.state),{},{subCategorias:t.data})));case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{error:e.t0,loading:!1}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getMarcas",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/marcas"));case 3:return t=e.sent,e.abrupt("return",this.setState(Object(K.a)(Object(K.a)({},this.state),{},{marcas:t.data,loading:!1})));case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{error:e.t0,loading:!1}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement("div",{className:"row justify-content-between px-3"},r.a.createElement("p",{className:"text-center h3 mb-2"},"Editar producto"),r.a.createElement(s.b,{to:"/productos",className:"mb-2 btn btn-outline-danger float"},"Volver al listado")),r.a.createElement(Ee,{onChange:this.handleChange,formValues:this.state.formValues,categorias:this.state.categorias,subCategorias:this.state.subCategorias,marcas:this.state.marcas,onSubmit:this.handleSubmit})))}}]),a}(r.a.Component),Fe=a(12),Ue=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(K.a)(Object(K.a)({},n.state),{},{formValues:Object(z.a)({},e.target.name,e.target.value)}))},n.handleSubmit=function(e){e.preventDefault(),n.setState({loading:!0});var t=JSON.parse(localStorage.getItem("administrador")),a=new Headers;a.append("token",t.token);var r={method:"PUT",headers:a,body:new FormData(document.getElementById("formAgregarMarca")),redirect:"follow"};fetch("".concat(se,"/marcas/update/").concat(n.props.match.params.id),r).then((function(e){return e.json()})).then((function(e){n.setState({loading:!1}),Fe.fire("Modificaci\xf3n exitosa","Se modifico la marca de manera exitosa!","success").then((function(){return n.props.history.push("/marcas")}))})).catch((function(e){return console.log("error",e)}))},n.state={loading:!1,formValues:void 0},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),this.getMarca()}},{key:"getMarca",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/marcas/").concat(this.props.match.params.id));case 3:t=e.sent,this.setState({loading:!1,formValues:t.data[0]}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement(s.b,{to:"/marcas",className:"mb-2 btn btn-outline-danger float"},"Volver al listado"),r.a.createElement("p",{className:"text-center h3 mb-2"},"Modificar marca"),r.a.createElement(Me,{onChange:this.handleChange,onSubmit:this.handleSubmit,loading:this.state.loading,formValues:this.state.formValues,accion:"modificar"})))}}]),a}(r.a.Component),Le=a(12),qe=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(K.a)(Object(K.a)({},n.state),{},{formValues:Object(z.a)({},e.target.name,e.target.value)}))},n.handleSubmit=function(e){e.preventDefault(),n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!0}));var t=JSON.parse(localStorage.getItem("administrador")),a=new Headers;a.append("token",t.token);var r={method:"PUT",headers:a,body:new FormData(document.getElementById("form-categoria"))};fetch("".concat(se,"/categorias/update/").concat(n.props.match.params.id),r).then((function(e){return e.json()})).then((function(e){return n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!1})),e.error?Le.fire({icon:"error",title:"Oops...",text:e.error}):Le.fire("Modificaci\xf3n exitosa","Se modifico la categoria de manera exitosa!","success").then((function(){return n.props.history.push("/categorias")}))})).catch((function(e){return console.log("error",e)}))},n.state={loading:!1,formValues:void 0},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),this.getCategoria()}},{key:"getCategoria",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/categorias/").concat(this.props.match.params.id));case 3:t=e.sent,this.setState({loading:!1,formValues:t.data[0]}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement(s.b,{to:"/categorias",className:"mb-2 btn btn-outline-danger float"},"Volver al listado"),r.a.createElement("p",{className:"text-center h3 mb-2"},"Modificar categoria"),r.a.createElement(Ce,{add:!1,onChange:this.handleChange,onSubmit:this.handleSubmit,formValues:this.state.formValues})))}}]),a}(r.a.Component),Ge=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},this.props.subcategoria.idSubCategoria),r.a.createElement("td",null,this.props.subcategoria.subcategoria),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-outline-danger mx-1",onClick:function(){return e.props.delete(e.props.subcategoria.idSubCategoria)}},r.a.createElement("i",{className:"fas fa-trash-alt"})),r.a.createElement(s.b,{className:"btn btn-outline-warning mx-1",to:"/subcategoria/editar/".concat(this.props.subcategoria.idSubCategoria)},r.a.createElement("i",{className:"fas fa-pen"}))))}}]),a}(r.a.Component),He=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("table",{className:"table text-center table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"SubCategoria"),r.a.createElement("th",{scope:"col"},r.a.createElement(s.b,{to:"/subcategoria/agregar",className:"btn btn-outline-success"},"Agregar subcategoria")))),r.a.createElement("tbody",null,this.props.subcategorias.map((function(t){return r.a.createElement(Ge,{key:t.idSubCategoria,subcategoria:t,delete:e.props.delete})})))))}}]),a}(r.a.Component),Je=a(12),ze=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).state={data:[],error:null,loading:!1},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),this.getSubCategorias()}},{key:"getSubCategorias",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/subcategorias"));case 3:t=e.sent,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{data:t.data,loading:!1})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!1,error:e.t0}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je.fire({title:"\xbfSeguro quieres eliminar el recurso?",text:"Esta accci\xf3n no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar"}).then(function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=4;break}return e.next=3,d("".concat(se,"/subcategorias/delete/").concat(t));case 3:return e.abrupt("return",Je.fire("Eliminado","Recurso eliminado","success").then((function(){return window.location.assign("/subcategorias")})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(He,{subcategorias:this.state.data,delete:this.delete}))}}]),a}(r.a.Component),Ke=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container bg-light border rounded p-4"},r.a.createElement("form",{onSubmit:this.props.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Subcategoria"),r.a.createElement("input",{onChange:this.props.onChange,className:"form-control",type:"text",name:"subcategoria",defaultValue:this.props.formValues.subcategoria,required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success btn-block"},"Guardar")))}}]),a}(r.a.Component),We=a(12),Ze=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(K.a)(Object(K.a)({},n.state),{},{formValues:Object(K.a)(Object(K.a)({},n.state.formValues),{},Object(z.a)({},e.target.name,e.target.value))}))},n.handleSubmit=function(e){e.preventDefault(),n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!0}));var t=JSON.parse(localStorage.getItem("administrador")),a=new Headers;a.append("token",t.token),a.append("Content-Type","application/json");var r={method:"POST",body:JSON.stringify(n.state.formValues),headers:a};fetch("".concat(se,"/subcategorias/add"),r).then((function(e){return e.json()})).then((function(e){if(n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!1})),e.error)return We.fire({icon:"error",title:"Oops...",text:e.error});We.fire("Guardado exitoso","Se guard\xf3 la subcategoria de manera exitosa!","success").then((function(){return n.props.history.push("/subcategorias")}))})).catch((function(e){return console.log("error",e)}))},n.state={loading:!1,error:null,formValues:{subcategoria:""}},n}return Object(te.a)(a,[{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement(s.b,{to:"/subcategorias",className:"mb-2 btn btn-outline-danger float"},"Volver al listado"),r.a.createElement("p",{className:"text-center h3 mb-2"},"Agregar subcategoria"),r.a.createElement(Ke,{onChange:this.handleChange,formValues:this.state.formValues,onSubmit:this.handleSubmit})))}}]),a}(r.a.Component),Ye=a(12),Qe=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(K.a)(Object(K.a)({},n.state),{},{formValues:Object(K.a)(Object(K.a)({},n.state.formValues),{},Object(z.a)({},e.target.name,e.target.value))}))},n.handleSubmit=function(e){e.preventDefault(),n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!0}));var t=JSON.parse(localStorage.getItem("administrador")),a=new Headers;a.append("token",t.token),a.append("Content-Type","application/json");var r={method:"PUT",body:JSON.stringify(n.state.formValues),headers:a};fetch("".concat(se,"/subcategorias/update/").concat(n.props.match.params.id),r).then((function(e){return e.json()})).then((function(e){if(n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!1})),e.error)return Ye.fire({icon:"error",title:"Oops...",text:e.error});Ye.fire("Guardado exitoso","Se Modific\xf3 la subcategoria de manera exitosa!","success").then((function(){return n.props.history.push("/subcategorias")}))})).catch((function(e){return console.log("error",e)}))},n.state={loading:!1,error:null,formValues:{subcategoria:""}},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),e.next=4,this.getSubCategoria();case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSubCategoria",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/subcategorias/").concat(this.props.match.params.id));case 3:return t=e.sent,e.abrupt("return",this.setState(Object(K.a)(Object(K.a)({},this.state),{},{formValues:{subcategoria:t.data[0].subcategoria},loading:!1})));case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!1,error:e.t0}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement(s.b,{to:"/subcategorias",className:"mb-2 btn btn-outline-danger float"},"Volver al listado"),r.a.createElement("p",{className:"text-center h3 mb-2"},"Editar subcategoria"),r.a.createElement(Ke,{onChange:this.handleChange,formValues:this.state.formValues,onSubmit:this.handleSubmit})))}}]),a}(r.a.Component),Xe=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},this.props.subproducto.subProducto),r.a.createElement("td",null,this.props.subproducto.producto),r.a.createElement("th",{scope:"row"},this.props.subproducto.tama\u00f1o),r.a.createElement("td",null,this.props.subproducto.peso),r.a.createElement("th",{scope:"row"},this.props.subproducto.stock),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-outline-danger mx-1",onClick:function(){return e.props.delete(e.props.subproducto.idSubProducto)}},r.a.createElement("i",{className:"fas fa-trash-alt"})),r.a.createElement(s.b,{className:"btn btn-outline-warning mx-1",to:"/subproducto/editar/".concat(this.props.subproducto.idSubProducto)},r.a.createElement("i",{className:"fas fa-pen"}))))}}]),a}(r.a.Component),$e=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container mt-3",style:{height:"80vh",overflowY:"scroll"}},r.a.createElement("table",{className:"table text-center table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"SubProducto"),r.a.createElement("th",{scope:"col"},"Producto referente"),r.a.createElement("th",{scope:"col"},"Tama\xf1o"),r.a.createElement("th",{scope:"col"},"Peso"),r.a.createElement("th",{scope:"col"},"Stock"),r.a.createElement("th",{scope:"col"},r.a.createElement(s.b,{to:"/subproducto/agregar",className:"btn btn-outline-success"},"Agregar subproducto")))),r.a.createElement("tbody",null,this.props.subproductos.map((function(t){return r.a.createElement(Xe,{key:t.idSubProducto,subproducto:t,delete:e.props.delete})})))))}}]),a}(r.a.Component),et=a(12),tt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).state={data:[],error:null,loading:!1,desde:1,limite:50},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),this.getSubProducto()}},{key:"getSubProducto",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/subproductos?desde=").concat(this.state.desde,"&limite=").concat(this.state.limite,"&admin=true"));case 3:t=e.sent,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{data:t.data,loading:!1})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!1,error:e.t0}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et.fire({title:"\xbfSeguro quieres eliminar el recurso?",text:"Esta accci\xf3n no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar"}).then(function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=4;break}return e.next=3,d("".concat(se,"/subproductos/delete/").concat(t));case 3:return e.abrupt("return",et.fire("Eliminado","Recurso eliminado","success").then((function(){return window.location.assign("/subproductos")})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"cargarMas",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){t.setState(Object(K.a)(Object(K.a)({},t.state),{},{desde:t.state.desde+49})),e()})).then((function(){t.getSubProducto()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"buscarProducto",value:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==(a=t.target.value).length){e.next=4;break}return e.abrupt("return",this.cargarMas());case 4:if(!(a.length<3)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,f("".concat(se,"/subproductos/buscar?busqueda=").concat(a));case 8:n=e.sent,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{data:n.data})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container pt-3"},r.a.createElement("input",{type:"text",className:"form-control d-none",id:"buscador",onChange:this.buscarProducto.bind(this),placeholder:"Ingrese el nombre del producto"})),r.a.createElement($e,{subproductos:this.state.data,delete:this.delete}),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{className:"btn btn-info mt-3 mx-2",onClick:function(){return e.cargarMas(e.state.desde,e.state.limite)}},"Ver m\xe1s"),r.a.createElement("button",{className:"btn btn-warning mt-3 mx-2",onClick:function(){return document.getElementById("buscador").classList.toggle("d-none")}},"Buscar")))}}]),a}(r.a.Component),at=function(e){var t=Object(n.useState)([]),a=Object(g.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)(!1),l=Object(g.a)(s,2),i=l[0],d=l[1],p=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!((a=t.target.value.toLowerCase()).length<3)){e.next=4;break}return e.abrupt("return");case 4:return d(!0),e.next=7,f("".concat(se,"/productos/buscar?busqueda=").concat(a));case 7:n=e.sent,console.log(n),c(n.data),d(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),d(!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(J,{closeModal:e.closeModal},r.a.createElement("h4",{className:"text-center"},"Busc\xe1 el producto padre"),r.a.createElement("div",{className:"col-12 my-2"},r.a.createElement("input",{type:"text",onChange:p,className:"form-control",placeholder:"Nombre del producto"})),r.a.createElement("h6",{className:"my-2 mx-4"},"Resultados:"),r.a.createElement("div",{className:"row mx-2"},i?r.a.createElement("div",{className:"text-center",style:{width:"100%"}},r.a.createElement(D,null)):o.map((function(t){return r.a.createElement("div",{className:"col-12 col-md-6",key:t.idProducto,style:{cursor:"pointer"},onClick:function(){return e.setProductoPadre(t.idProducto,"".concat(t.producto))}},r.a.createElement("div",{className:"bg-light border rounded"},r.a.createElement("p",{className:"my-2 mx-2"},t.producto," | ",t.marca," | ",t.categoria)))}))))},nt=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)(""),l=Object(g.a)(s,2),i=l[0],u=l[1],m=Object(n.useState)(null),d=Object(g.a)(m,2),p=d[0],f=d[1];Object(n.useEffect)((function(){u(e.formValues.producto),f(e.formValues.idProducto)}),[]);var b=function(){return c(!1)},h="formModificarSubProducto"===e.formId?"col-12 col-md-9":"col-12";return"formModificarSubProducto"!==e.formId||""!==i&&p?r.a.createElement("div",{className:"container bg-light border rounded p-4"},r.a.createElement("form",{onSubmit:e.onSubmit,id:e.formId},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:h},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6"},r.a.createElement("label",null,"Nombre del subproducto: (obligatorio)"),r.a.createElement("input",{defaultValue:e.formValues.subProducto,required:!0,className:"form-control",type:"text",name:"subProducto"})),r.a.createElement("div",{className:"form-group col-12 col-md-6"},r.a.createElement("label",null,"C\xf3digo de barra:"),r.a.createElement("input",{defaultValue:e.formValues.codigoBarra,required:!0,className:"form-control",type:"text",name:"codigoBarra"})),r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("div",{className:"d-flex justify-content-between mb-2"},r.a.createElement("label",null,"Producto padre:"),r.a.createElement("span",{className:"text-muted"},i),r.a.createElement("input",{type:"hidden",value:p,name:"idProducto"}),r.a.createElement("button",{type:"button",className:"btn btn-outline-success",onClick:function(){return c(!0)}},"Buscar"))),r.a.createElement("div",{className:"form-group col-12 col-md-4"},r.a.createElement("label",null,"Stock"),r.a.createElement("input",{defaultValue:e.formValues.stock,required:!0,className:"form-control",type:"number",step:"any",name:"stock"})),r.a.createElement("div",{className:"form-group col-12 col-md-4"},r.a.createElement("label",null,"Minimo de Stock"),r.a.createElement("input",{defaultValue:e.formValues.minStock,required:!0,className:"form-control",type:"number",step:"any",name:"minStock"})),r.a.createElement("div",{className:"form-group col-12 col-md-4"},r.a.createElement("label",null,"Peso en Kg"),r.a.createElement("input",{defaultValue:e.formValues.peso,className:"form-control",type:"number",step:"any",name:"peso"})),r.a.createElement("div",{className:"form-group col-12 col-md-4"},r.a.createElement("label",null,"Tama\xf1o:"),r.a.createElement("select",{required:!0,className:"form-control",name:"idTama\xf1o",onChange:e.onChange,defaultValue:e.formValues.idTama\u00f1o},e.tama\u00f1os.map((function(e){return r.a.createElement("option",{value:e.idTama\u00f1o,key:e.idTama\u00f1o},e.tama\u00f1o)})))),r.a.createElement("div",{className:"form-group col-12 col-md-4"},r.a.createElement("label",null,"Precio unidad"),r.a.createElement("input",{defaultValue:e.formValues.precioUnidad,className:"form-control",type:"number",step:"any",name:"precioUnidad"})),r.a.createElement("div",{className:"form-group col-12 col-md-4"},r.a.createElement("label",null,"% Descuento:"),r.a.createElement("input",{defaultValue:e.formValues.descuento,className:"form-control",type:"text",name:"descuento"})),"formModificarSubProducto"===e.formId?r.a.createElement("div",{className:"form-group col-12 col-md-6"},r.a.createElement("input",{type:"checkbox",onChange:function(e){document.getElementById("input-file-subproducto").classList.toggle("d-none")}})," Modificar im\xe1gen de producto",r.a.createElement("input",{type:"file",id:"input-file-subproducto",name:"foto",className:"form-control d-none"})):r.a.createElement("div",{className:"form-group col-12 col-md-6"},r.a.createElement("label",null,"Imagen del producto:"),r.a.createElement("input",{type:"file",name:"foto",className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group col-12 col-md-6"},r.a.createElement("label",null,"Mostrar en web:"),r.a.createElement("select",{required:!0,className:"form-control",name:"mostrar",onChange:e.onChange,defaultValue:e.formValues.mostrar},r.a.createElement("option",{value:"0"},"No"),r.a.createElement("option",{value:"1"},"Si"))))),"formModificarSubProducto"===e.formId?r.a.createElement("div",{className:"col-12 col-md-3 text-right"},r.a.createElement("img",{src:e.formValues.foto,className:"img-fluid",alt:e.formValues.subProducto,style:{height:"350px"}})):null,r.a.createElement("button",{type:"submit",className:"btn btn-outline-success btn-block"},"Guardar"))),o?r.a.createElement(at,{closeModal:b,setProductoPadre:function(e,t){return u(t),f(e),b()}}):null):null},rt=a(12),ot=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,r,o,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!0})),a=JSON.parse(localStorage.getItem("administrador")),(r=new Headers).append("token",a.token),o={method:"POST",body:new FormData(document.getElementById("formAgregarSubProducto")),headers:r},e.next=8,fetch("".concat(se,"/subproductos/add"),o);case 8:return c=e.sent,e.next=11,c.json();case 11:if(s=e.sent,console.log(s),200==c.status){e.next=15;break}return e.abrupt("return",rt.fire({icon:"error",title:"Oops...",text:s.error}));case 15:rt.fire("Guardado exitoso","Se guard\xf3 el subproducto de manera exitosa!","success").then((function(){return n.props.history.push("/subproductos")}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={loading:!1,error:null,productos:[],"tama\xf1os":[],formValues:{subProducto:"",codigoBarra:"",idProducto:"",producto:"",stock:"",minStock:"",peso:"","idTama\xf1o":"",precioUnidad:"",foto:"",mostrar:0,descuento:0}},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),e.next=4,this.getProductos();case 4:return e.next=6,this.getTama\u00f1os();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!1,error:e.t0}));case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getProductos",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/productos?desde=1&limite=500"));case 3:t=e.sent,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{productos:t.data})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{error:e.t0,loading:!1}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getTama\xf1os",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/tama\xf1os"));case 3:t=e.sent,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{"tama\xf1os":t.data,loading:!1,formValues:Object(K.a)(Object(K.a)({},this.state.formValues),{},{"idTama\xf1o":t.data[0].idTama\u00f1o})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!1,error:e.t0}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement("div",{className:"row justify-content-between px-3"},r.a.createElement("p",{className:"text-center h3 mb-2"},"Nuevo subproducto"),r.a.createElement(s.b,{to:"/subproductos",className:"mb-2 btn btn-outline-danger float"},"Volver al listado")),r.a.createElement(nt,{formId:"formAgregarSubProducto",productos:this.state.productos,"tama\xf1os":this.state.tama\u00f1os,onChange:this.handleChange,onSubmit:this.handleSubmit,formValues:this.state.formValues})))}}]),a}(r.a.Component),ct=a(12),st=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,r,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!0})),a=JSON.parse(localStorage.getItem("administrador")),(r=new Headers).append("token",a.token),o=new FormData(document.getElementById("formModificarSubProducto")),c={method:"PUT",body:o,headers:r},e.next=9,fetch("".concat(se,"/subproductos/update/").concat(n.props.match.params.id),c);case 9:if(200==e.sent.status){e.next=12;break}return e.abrupt("return",ct.fire({icon:"error",title:"Oops...",text:"Error al modificar el subproducto"}));case 12:ct.fire("Guardado exitoso","Se Modific\xf3 el subproducto de manera exitosa!","success").then((function(){return n.props.history.push("/subproductos")}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={loading:!1,error:null,productos:[],"tama\xf1os":[],formValues:{subProducto:"",codigoBarra:"",idProducto:0,producto:"",stock:0,minStock:0,peso:"0","idTama\xf1o":0,precioUnidad:0,foto:"",mostrar:0,descuento:0}},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),e.next=4,this.getSubProducto();case 4:return e.next=6,this.getTama\u00f1os();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!1,error:e.t0}));case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSubProducto",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/subproductos/").concat(this.props.match.params.id));case 3:return t=e.sent,e.abrupt("return",this.setState(Object(K.a)(Object(K.a)({},this.state),{},{formValues:{subProducto:t.data[0].subProducto,codigoBarra:t.data[0].codigoBarra,idProducto:t.data[0].idProducto,producto:t.data[0].producto,stock:t.data[0].stock,minStock:t.data[0].minStock,peso:t.data[0].peso,"idTama\xf1o":t.data[0].idTama\u00f1o,precioUnidad:t.data[0].precioUnidad,foto:t.data[0].foto,mostrar:t.data[0].mostrar,descuento:t.data[0].descuento}})));case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!1,error:e.t0}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getProductos",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/productos?desde=1&limite=500"));case 3:t=e.sent,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{productos:t.data})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{error:e.t0,loading:!1}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getTama\xf1os",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/tama\xf1os"));case 3:t=e.sent,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{"tama\xf1os":t.data,loading:!1})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!1,error:e.t0}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement("div",{className:"row justify-content-between px-3"},r.a.createElement("p",{className:"text-center h3 mb-2"},"Editar subproducto"),r.a.createElement(s.b,{to:"/subproductos",className:"mb-2 btn btn-outline-danger float"},"Volver al listado")),r.a.createElement(nt,{formId:"formModificarSubProducto","tama\xf1os":this.state.tama\u00f1os,onChange:this.handleChange,formValues:this.state.formValues,onSubmit:this.handleSubmit})))}}]),a}(r.a.Component),lt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},this.props.tama\u00f1o.idTama\u00f1o),r.a.createElement("td",null,this.props.tama\u00f1o.tama\u00f1o),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-outline-danger mx-1",onClick:function(){return e.props.delete(e.props.tama\u00f1o.idTama\u00f1o)}},r.a.createElement("i",{className:"fas fa-trash-alt"})),r.a.createElement(s.b,{className:"btn btn-outline-warning mx-1",to:"/tama\xf1o/editar/".concat(this.props.tama\u00f1o.idTama\u00f1o)},r.a.createElement("i",{className:"fas fa-pen"}))))}}]),a}(r.a.Component),it=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("table",{className:"table text-center table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"id"),r.a.createElement("th",{scope:"col"},"Tama\xf1o"),r.a.createElement("th",{scope:"col"},r.a.createElement(s.b,{to:"/tama\xf1o/agregar",className:"btn btn-outline-success"},"Agregar tama\xf1o")))),r.a.createElement("tbody",null,this.props.tama\u00f1os.map((function(t){return r.a.createElement(lt,{key:t.idTama\u00f1o,"tama\xf1o":t,delete:e.props.delete})})))))}}]),a}(r.a.Component),ut=a(12),mt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).state={data:[],error:null,loading:!1},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),this.getTama\u00f1os()}},{key:"getTama\xf1os",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/tama\xf1os"));case 3:t=e.sent,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{data:t.data,loading:!1})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!1,error:e.t0}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut.fire({title:"\xbfSeguro quieres eliminar el tama\xf1o?",text:"Puede que existan productos con este tama\xf1o, ser\xe1n eliminados tambien",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar"}).then(function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=4;break}return e.next=3,d("".concat(se,"/tama\xf1os/delete/").concat(t));case 3:return e.abrupt("return",ut.fire("Eliminado","Recurso eliminado","success").then((function(){return window.location.assign("/tama\xf1os")})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(it,{"tama\xf1os":this.state.data,delete:this.delete}))}}]),a}(r.a.Component),dt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container bg-light border rounded p-4"},r.a.createElement("form",{onSubmit:this.props.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Tama\xf1o"),r.a.createElement("input",{onChange:this.props.onChange,className:"form-control",type:"text",name:"tama\xf1o",defaultValue:this.props.formValues.tama\u00f1o,required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success btn-block"},"Guardar")))}}]),a}(r.a.Component),pt=a(12),ft=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(K.a)(Object(K.a)({},n.state),{},{formValues:Object(z.a)({},e.target.name,e.target.value)}))},n.handleSubmit=function(e){e.preventDefault(),n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!0}));var t=JSON.parse(localStorage.getItem("administrador")),a=new Headers;a.append("token",t.token),a.append("Content-Type","application/json");var r={method:"POST",body:JSON.stringify(n.state.formValues),headers:a};fetch("".concat(se,"/tama\xf1os/add"),r).then((function(e){return e.json()})).then((function(e){if(n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!1})),e.info.code)return pt.fire({icon:"error",title:"Oops...",text:e.info.code});pt.fire("Guardado exitoso","Se guard\xf3 el tama\xf1o de manera exitosa!","success").then((function(){return n.props.history.push("/tama\xf1os")}))})).catch((function(e){return console.log("error",e)}))},n.state={loading:!1,error:null,formValues:{"tama\xf1o":""}},n}return Object(te.a)(a,[{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement(s.b,{to:"/tama\xf1os",className:"mb-2 btn btn-outline-danger float"},"Volver al listado"),r.a.createElement("p",{className:"text-center h3 mb-2"},"Agregar Tama\xf1o"),r.a.createElement(dt,{onChange:this.handleChange,formValues:this.state.formValues,onSubmit:this.handleSubmit})))}}]),a}(r.a.Component),bt=a(12),ht=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(K.a)(Object(K.a)({},n.state),{},{formValues:Object(z.a)({},e.target.name,e.target.value)}))},n.handleSubmit=function(e){e.preventDefault(),n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!0}));var t=JSON.parse(localStorage.getItem("administrador")),a=new Headers;a.append("token",t.token),a.append("Content-Type","application/json");var r={method:"PUT",body:JSON.stringify(n.state.formValues),headers:a};fetch("".concat(se,"/tama\xf1os/update/").concat(n.props.match.params.id),r).then((function(e){return e.json()})).then((function(e){if(n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!1})),e.info.code)return bt.fire({icon:"error",title:"Oops...",text:e.info.code});bt.fire("Guardado exitoso","Se modific\xf3 el tama\xf1o de manera exitosa!","success").then((function(){return n.props.history.push("/tama\xf1os")}))})).catch((function(e){return console.log("error",e)}))},n.state={loading:!1,error:null,formValues:{"tama\xf1o":""}},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),this.getTama\u00f1o()}},{key:"getTama\xf1o",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/tama\xf1os/").concat(this.props.match.params.id));case 3:t=e.sent,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{formValues:{"tama\xf1o":t.data[0].tama\u00f1o},loading:!1})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{error:e.t0,loading:!1}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement(s.b,{to:"/tama\xf1os",className:"mb-2 btn btn-outline-danger float"},"Volver al listado"),r.a.createElement("p",{className:"text-center h3 mb-2"},"Modificar Tama\xf1o"),r.a.createElement(dt,{onChange:this.handleChange,formValues:this.state.formValues,onSubmit:this.handleSubmit})))}}]),a}(r.a.Component),gt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},this.props.legales.terminos_condiciones.length>30?this.props.legales.terminos_condiciones.substring(0,27)+"...":this.props.legales.terminos_condiciones),r.a.createElement("td",null,this.props.legales.politica_privacidad.length>30?this.props.legales.politica_privacidad.substring(0,27)+"...":this.props.legales.politica_privacidad))}}]),a}(r.a.Component),Et=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("table",{className:"table text-center table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Legales"),r.a.createElement("th",{scope:"col"},"Pol\xedtica"),r.a.createElement("th",{scope:"col"},r.a.createElement(s.b,{to:"/legales/editar",className:"btn btn-outline-success"},"Modifcar")))),r.a.createElement("tbody",null,this.props.legales.map((function(e,t){return r.a.createElement(gt,{key:t,legales:e})})))))}}]),a}(r.a.Component),vt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).state={data:[],error:null,loading:!1},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),this.getLegales()}},{key:"componentWillUnmount",value:function(){}},{key:"getLegales",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/legales"));case 3:t=e.sent,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{data:t.data,loading:!1})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!1,error:e.t0}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Et,{legales:this.state.data}))}}]),a}(n.Component),Ot=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container bg-light border rounded p-4"},r.a.createElement("form",{onSubmit:this.props.onSubmit,id:"formModificarLegales"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Pol\xedticas de privacidad"),r.a.createElement("textarea",{required:!0,className:"form-control",name:"politica_privacidad",defaultValue:this.props.formValues.politica_privacidad,onChange:this.props.handleChange,rows:"30"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"T\xe9rminos y condiciones"),r.a.createElement("textarea",{required:!0,className:"form-control",name:"terminos_condiciones",defaultValue:this.props.formValues.terminos_condiciones,onChange:this.props.handleChange,rows:"30"})),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success btn-block"},"Guardar")))}}]),a}(r.a.Component),jt=a(12),At=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(K.a)(Object(K.a)({},n.state),{},{formValues:Object(K.a)(Object(K.a)({},n.state.formValues),{},Object(z.a)({},e.target.name,e.target.value))}))},n.handleSubmit=function(e){e.preventDefault(),n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!0}));var t=JSON.parse(localStorage.getItem("administrador")),a=new Headers;a.append("token",t.token),a.append("Content-Type","application/json");var r={method:"PUT",headers:a,body:JSON.stringify({terminos:n.state.formValues.terminos_condiciones,politica:n.state.formValues.politica_privacidad}),redirect:"follow"};fetch("".concat(se,"/legales/update"),r).then((function(e){return e.json()})).then((function(e){console.log(e),n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!1})),jt.fire("Modificaci\xf3n exitosa","Se modific\xf3 de manera exitosa!","success").then((function(){return n.props.history.push("/legales")}))})).catch((function(e){return console.log("error",e)}))},n.state={loading:!1,formValues:void 0},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),this.getData()}},{key:"getData",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/legales"));case 3:t=e.sent,this.setState({loading:!1,formValues:t.data[0]}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading||void 0==this.state.formValues?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement(s.b,{to:"/legales",className:"mb-2 btn btn-outline-danger float"},"Volver"),r.a.createElement("p",{className:"text-center h3 mb-2"},"Modificar Legales"),r.a.createElement(Ot,{formValues:this.state.formValues,onSubmit:this.handleSubmit,handleChange:this.handleChange})))}}]),a}(n.Component),yt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},this.props.zona.zona),r.a.createElement("td",null,this.props.zona.dia),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-outline-danger mx-1",onClick:function(){return e.props.delete(e.props.zona.idZona)}},r.a.createElement("i",{className:"fas fa-trash-alt"})),r.a.createElement(s.b,{className:"btn btn-outline-warning mx-1",to:"/zonas-envio/editar/".concat(this.props.zona.idZona)},r.a.createElement("i",{className:"fas fa-pen"}))))}}]),a}(r.a.Component),Nt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("table",{className:"table text-center table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Zona"),r.a.createElement("th",{scope:"col"},"D\xeda de env\xedo"),r.a.createElement("th",{scope:"col"},r.a.createElement(s.b,{to:"/zonas-envio/agregar",className:"btn btn-outline-success"},"Agregar zona")))),r.a.createElement("tbody",null,this.props.zonas.map((function(t){return r.a.createElement(yt,{delete:e.props.delete,key:t.idZona,zona:t})})))))}}]),a}(n.Component),xt=a(12),St=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).state={zonas:[],error:null,loading:!1},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),this.getZonas()}},{key:"componentWillUnmount",value:function(){}},{key:"getZonas",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/zonas"));case 3:t=e.sent,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{zonas:t.data,loading:!1})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!1,error:e.t0}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(e){xt.fire({title:"\xbfSeguro quieres eliminar la zona?",text:"Esta acci\xf3n no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar"}).then(function(){var t=Object(m.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.isConfirmed){t.next=4;break}return t.next=3,d("".concat(se,"/zonas/delete/").concat(e));case 3:xt.fire("Eliminado","Recurso eliminado","success").then((function(){window.location.assign("/zonas-envio")}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Nt,{zonas:this.state.zonas,delete:this.delete}))}}]),a}(n.Component),kt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container bg-light border rounded p-4"},r.a.createElement("form",{onSubmit:this.props.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Zona"),r.a.createElement("input",{onChange:this.props.onChange,className:"form-control",type:"text",name:"zona",value:this.props.formValues.zona,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"D\xeda de env\xedo"),r.a.createElement("select",{className:"form-control",defaultValue:this.props.formValues.dia,name:"dia",onChange:this.props.onChange,required:!0},r.a.createElement("option",{value:""},"Seleccione un d\xeda"),r.a.createElement("option",{value:"Lunes"},"Lunes"),r.a.createElement("option",{value:"Martes"},"Martes"),r.a.createElement("option",{value:"Miercoles"},"Miercoles"),r.a.createElement("option",{value:"Jueves"},"Jueves"),r.a.createElement("option",{value:"Viernes"},"Viernes"),r.a.createElement("option",{value:"Sabado"},"Sabado"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Cotizaci\xf3n de zona"),r.a.createElement("input",{onChange:this.props.onChange,className:"form-control",type:"text",name:"precio",value:this.props.formValues.precio,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Cotizaci\xf3n express de zona"),r.a.createElement("input",{onChange:this.props.onChange,className:"form-control",type:"text",name:"precioExpress",value:this.props.formValues.precioExpress,required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success btn-block"},"Guardar")))}}]),a}(r.a.Component),wt=a(12),Ct=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(K.a)(Object(K.a)({},n.state),{},{formValues:Object(K.a)(Object(K.a)({},n.state.formValues),{},Object(z.a)({},e.target.name,e.target.value))}))},n.handleSubmit=function(e){e.preventDefault(),n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!0}));var t=JSON.parse(localStorage.getItem("administrador")),a=new Headers;a.append("token",t.token),a.append("Content-Type","application/json");var r={method:"POST",body:JSON.stringify(n.state.formValues),headers:a};fetch("".concat(se,"/zonas/add"),r).then((function(e){return e.json()})).then((function(e){if(n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!1})),!e.ok)return wt.fire({icon:"error",title:"Oops...",text:e.data.info});wt.fire("Guardado exitoso","Se guard\xf3 la zona de manera exitosa!","success").then((function(){return n.props.history.push("/zonas-envio")}))})).catch((function(e){return console.log("error",e)}))},n.state={loading:!1,error:null,formValues:{zona:"",dia:"",precio:"",precioExpress:""}},n}return Object(te.a)(a,[{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement(s.b,{to:"/zonas-envio",className:"mb-2 btn btn-outline-danger float"},"Volver al listado"),r.a.createElement("p",{className:"text-center h3 mb-2"},"Agregar Zona"),r.a.createElement(kt,{onChange:this.handleChange,formValues:this.state.formValues,onSubmit:this.handleSubmit})))}}]),a}(r.a.Component),Vt=a(12),Rt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(K.a)(Object(K.a)({},n.state),{},{formValues:Object(K.a)(Object(K.a)({},n.state.formValues),{},Object(z.a)({},e.target.name,e.target.value))}))},n.handleSubmit=function(e){e.preventDefault(),n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!0}));var t=JSON.parse(localStorage.getItem("administrador")),a=new Headers;a.append("token",t.token),a.append("Content-Type","application/json");var r={method:"PUT",body:JSON.stringify(n.state.formValues),headers:a};fetch("".concat(se,"/zonas/update/").concat(n.props.match.params.id),r).then((function(e){return e.json()})).then((function(e){if(n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!1})),!e.ok)return Vt.fire({icon:"error",title:"Oops...",text:e.data.info});Vt.fire("Guardado exitoso","Se modific\xf3 la zona de manera exitosa!","success").then((function(){return n.props.history.push("/zonas-envio")}))})).catch((function(e){return console.log("error",e)}))},n.state={loading:!1,error:null,formValues:{zona:"",dia:"",precio:0,precioExpress:0}},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),this.getZona()}},{key:"getZona",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/zonas/").concat(this.props.match.params.id));case 3:t=e.sent,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{formValues:{zona:t.data[0].zona,dia:t.data[0].dia,precio:t.data[0].precio,precioExpress:t.data[0].precio_express},loading:!1})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{error:e.t0,loading:!1}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement(s.b,{to:"/zonas-envio",className:"mb-2 btn btn-outline-danger float"},"Volver al listado"),r.a.createElement("p",{className:"text-center h3 mb-2"},"Modificar Zona"),r.a.createElement(kt,{onChange:this.handleChange,formValues:this.state.formValues,onSubmit:this.handleSubmit})))}}]),a}(r.a.Component),Tt=a(47),Pt=a.n(Tt),Mt=function(e){return r.a.createElement("table",{id:"table-envios-excel",className:"d-none"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"C\xf3digo env\xedo"),r.a.createElement("th",{scope:"col"},"Zona"),r.a.createElement("th",{scope:"col"},"Tipo"),r.a.createElement("th",{scope:"col"},"Cliente"),r.a.createElement("th",{scope:"col"},"Direcci\xf3n"),r.a.createElement("th",{scope:"col"},"Email"))),r.a.createElement("tbody",null,e.data.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.idEnvio),r.a.createElement("td",null,e.zona),r.a.createElement("td",null,e.tipo),r.a.createElement("td",null,e.venta?e.venta.nombre:"No registrado"),r.a.createElement("td",null,e.venta?e.venta.address:"No registrado"),r.a.createElement("td",null,e.venta?e.venta.email:"No registrado"))}))))},It=(a(85),function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return this.props.envio.venta?r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:0===this.props.envio.venta.pagado?"nopago":"pago"},r.a.createElement("th",null,this.props.envio.zona||"-"),r.a.createElement("td",null,this.props.envio.tipo),r.a.createElement("td",{className:"buttonsDesktop"},r.a.createElement("button",{className:"btn btn-warning mx-1",onClick:function(){return e.props.mostrarDetalle(e.props.envio.venta)}},r.a.createElement("i",{className:"fas fa-eye"})),"Local"!=this.props.envio.tipo?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-".concat(0===this.props.envio.entregado?"info":"success"," mx-1"),disabled:0===this.props.envio.en_camino||1===this.props.envio.entregado,onClick:function(){return e.props.cambiarEstadoEntregado(e.props.envio.idEnvio)}},0===this.props.envio.entregado?"E":"R"),r.a.createElement("button",{className:"btn btn-secondary mx-1",disabled:0!==this.props.envio.en_camino,onClick:function(){return e.props.cambiarEstadoEnCamino(e.props.envio.idEnvio)}},r.a.createElement("i",{className:"fas fa-ambulance"}))):r.a.createElement("button",{className:"btn mx-1 btn-".concat(0===this.props.envio.venta.pagado?"success":"danger"),onClick:function(){return e.props.cambiarEstadoPagado(e.props.envio.venta.idVenta)}},0===this.props.envio.venta.entregado?"Entregar":"Desentregar"),r.a.createElement("span",{style:{float:"right"}},this.props.temporizador)))):null}}]),a}(r.a.Component)),Dt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"calcularTiempo",value:function(e){var t=new Date(e.split(".")[0]),a=new Date,n=Math.floor((a-t)/1e3/60),r=Math.floor(n/60),o=Math.floor(r/24);if(console.log(o,r,n),o>0)return 1===o?"Hace 1 d\xeda":"Hace ".concat(o," d\xedas");switch(r){case 0:return"Hace ".concat(n," min.");case 1:return"Hace 1 Hora";default:return"Hace ".concat(r," horas")}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement(Mt,{data:this.props.envios}),r.a.createElement("table",{className:"table text-center table-envios"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Zona"),r.a.createElement("th",{scope:"col"},"Tipo"),r.a.createElement("th",{scope:"col"},r.a.createElement(Pt.a,{id:"test-table-xls-button",className:"btn btn-info",table:"table-envios-excel",filename:"envios",sheet:"tablexls",buttonText:"Exportar"})))),r.a.createElement("tbody",null,this.props.envios.map((function(t,a){var n=t.venta?e.calcularTiempo(t.venta.fecha):"-";return r.a.createElement(It,{key:a,envio:t,mostrarDetalle:e.props.mostrarDetalle,cambiarEstadoEntregado:e.props.cambiarEstadoEntregado,cambiarEstadoEnCamino:e.props.cambiarEstadoEnCamino,cambiarEstadoPagado:e.props.cambiarEstadoPagado,temporizador:n})})))))}}]),a}(r.a.Component),Bt=(a(86),function(e){return r.a.createElement("div",{className:"detalleVenta container"},r.a.createElement("section",{className:"datosComprador mb-2"},r.a.createElement("img",{className:"fotoUsuario mr-3",src:"null"!=e.data.foto?e.data.foto:"https://storage.googleapis.com/web-oliver/user-default.png",alt:e.data.nombre}),r.a.createElement("p",null,e.data.nombre)),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("p",{className:"text-muted"},"Direcci\xf3n: ",r.a.createElement("span",{className:""},e.data.address)," ",r.a.createElement("a",{href:"https://maps.google.com/?q=".concat(e.data.lat,",").concat(e.data.lon),target:"blank"},"(Ver residencia)"))),r.a.createElement("li",null,r.a.createElement("p",{className:"text-muted"},"Email: ",r.a.createElement("span",{className:""},e.data.email)))),r.a.createElement("h3",null,"Datos de venta:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("p",{className:"text-muted"},"Total: $",r.a.createElement("span",{className:""},e.data.subtotal))),r.a.createElement("li",null,r.a.createElement("p",{className:"text-muted"},"Descuento: ",r.a.createElement("span",{className:""},e.data.descuento))),r.a.createElement("li",null,r.a.createElement("p",{className:"text-muted"},"Medio de pago: ",r.a.createElement("span",null,e.data.medio))),r.a.createElement("li",null,r.a.createElement("p",{className:"text-muted"},"Pagado: ",r.a.createElement("span",null,0==e.data.pagado?"NO":"SI")))),r.a.createElement("h3",null,"Productos de la venta:"),r.a.createElement("table",{className:"table table-hover text-center"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col",className:"d-none"},"Producto"),r.a.createElement("th",{scope:"col"},"Sub Producto"),r.a.createElement("th",{scope:"col"},"Cantidad"),r.a.createElement("th",{scope:"col"},"Foto"))),r.a.createElement("tbody",null,e.data.productos.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row",className:"d-none"},e.producto),r.a.createElement("td",null,e.subProducto),r.a.createElement("td",null,e.cantidad),r.a.createElement("td",null,r.a.createElement("img",{src:e.foto,style:{width:"50px"},alt:e.subProducto})))})))))}),_t=(a(87),function(e){var t=Object(n.useState)([]),a=Object(g.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)([{tipo:"Domicilio"},{tipo:"Express"},{tipo:"Local"}]),l=Object(g.a)(s,2),i=l[0],d=(l[1],Object(n.useState)(null)),p=Object(g.a)(d,2),b=(p[0],p[1]),h=Object(n.useState)(!1),E=Object(g.a)(h,2),v=E[0],O=E[1];Object(n.useEffect)((function(){j()}),[]);var j=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,f("".concat(se,"/zonas"));case 4:return t=e.sent,O(!1),e.abrupt("return",c(t.data));case 9:e.prev=9,e.t0=e.catch(0),b(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return v?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{id:"btn-mostrarFiltro",className:"btn btn-warning",onClick:function(){document.getElementById("formFiltroEnvios").classList.add("show"),document.getElementById("btn-mostrarFiltro").classList.add("d-none")}},"Filtrar"),r.a.createElement("form",{onSubmit:e.filtrarEnvios,id:"formFiltroEnvios"},r.a.createElement("div",{className:"row mt-3"},r.a.createElement("section",{className:"filtro-tipo col-12 col-md-3 d-flex align-items-center"},r.a.createElement("label",{className:"my-0 mr-2"},"Env\xedo: "),r.a.createElement("select",{className:"form-control",name:"tipo",defaultValue:e.filtros.tipo,onChange:e.aplicarFiltro},r.a.createElement("option",{value:""},"Todos"),i.map((function(e,t){return r.a.createElement("option",{key:t,value:e.tipo},e.tipo)})))),r.a.createElement("section",{className:"filtro-zona col-12 col-md-3 d-flex align-items-center"},r.a.createElement("label",{className:"my-0 mr-2"},"Zona"),r.a.createElement("select",{className:"form-control",name:"idZona",defaultValue:e.filtros.idZona,onChange:e.aplicarFiltro},r.a.createElement("option",{value:""},"Todas"),o.map((function(e,t){return r.a.createElement("option",{key:t,value:e.idZona},e.zona)})))),r.a.createElement("section",{className:"filtro-zona col-12 col-md-4 d-flex align-items-center"},r.a.createElement("label",{className:"my-0 mr-2"},"C\xf3d. Env\xedo"),r.a.createElement("input",{type:"text",className:"form-control",name:"idEnvio",value:e.filtros.idEnvio,onChange:e.aplicarFiltro})),r.a.createElement("div",{className:"col-12 col-md-2 text-right"},r.a.createElement("button",{type:"submit",className:"btn btn-info"},"Aplicar filtro")))))}),Ft=a(12),Ut=function(){Object(n.useEffect)((function(){R()}),[]);var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(null),s=Object(g.a)(c,2),l=(s[0],s[1]),i=Object(n.useState)(!1),d=Object(g.a)(i,2),p=d[0],E=d[1],v=Object(n.useState)(!1),O=Object(g.a)(v,2),j=O[0],A=O[1],y=Object(n.useState)(null),N=Object(g.a)(y,2),x=N[0],S=N[1],k=Object(n.useState)({tipo:"",idZona:"",diaEntrega:"",idEnvio:""}),w=Object(g.a)(k,2),C=w[0],V=w[1],R=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),t="".concat(se,"/envios"),""!==C.tipo&&(t+="?tipo=".concat(C.tipo)),""!==C.idZona&&(t+="".concat(""!==C.tipo?"&":"?","idZona=").concat(C.idZona)),""!==C.idEnvio&&(t+="?idEnvio=".concat(C.idEnvio)),e.next=8,f(t);case 8:a=e.sent,o(a.data),E(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),E(!1),l(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),T=function(){return A(!j)};return r.a.createElement(r.a.Fragment,null,j?r.a.createElement(J,{closeModal:T},r.a.createElement(Bt,{data:x})):null,r.a.createElement("div",{className:"container pt-3"},r.a.createElement("h2",null,"Listado de env\xedos"),r.a.createElement(_t,{filtros:C,aplicarFiltro:function(e){return V(Object(K.a)(Object(K.a)({},C),{},Object(z.a)({},e.target.name,e.target.value)))},filtrarEnvios:function(e){return e.preventDefault(),document.getElementById("formFiltroEnvios").classList.remove("show"),document.getElementById("btn-mostrarFiltro").classList.remove("d-none"),R()}})),p?r.a.createElement(D,null):r.a.createElement(Dt,{envios:a,mostrarDetalle:function(e){T(),S(e)},cambiarEstadoEntregado:function(e){Ft.fire({title:"\xbfSeguro quieres cambiar el estado del env\xedo?",text:"Esta acci\xf3n se puede revertir",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar"}).then(function(){var t=Object(m.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isConfirmed){t.next=9;break}if(r=a.filter((function(t){return t.idEnvio===e}))[0].venta.email){t.next=4;break}return t.abrupt("return",Ft.fire("Error","Ha ocurrido un error","error"));case 4:return E(!0),t.next=7,b("".concat(se,"/envios/modificarEstadoEntregado/").concat(e,"?email=").concat(r));case 7:E(!1),Ft.fire("Listo!","Estado del envio modificado","success").then((function(){R()}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},cambiarEstadoEnCamino:function(e){Ft.fire({title:"\xbfSeguro quieres notificar que el env\xedo est\xe1 en camino?",text:"Esta acci\xf3n se puede revertir",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar"}).then(function(){var t=Object(m.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isConfirmed){t.next=7;break}if(r=a.filter((function(t){return t.idEnvio==e}))[0].venta.email){t.next=4;break}return t.abrupt("return",Ft.fire("Error","Ha ocurrido un error","error"));case 4:return t.next=6,b("".concat(se,"/envios/modificarEstadoEnCamino/").concat(e,"?email=").concat(r));case 6:Ft.fire("Listo!","Estado del envio modificado","success").then((function(){R()}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},cambiarEstadoPagado:function(e){Ft.fire({title:"\xbfSeguro quieres notificar la entrega de este pedido?",text:"Esta acci\xf3n se puede revertir",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar"}).then(function(){var t=Object(m.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.isConfirmed){t.next=7;break}return t.next=3,b("".concat(se,"/ventas/modificarEstadoPago/").concat(e));case 3:if(!t.sent.ok){t.next=6;break}return t.abrupt("return",Ft.fire("Listo!","Estado del pedido modificado","success").then((function(){R()})));case 6:Ft.fire("Error","Ha ocurrido un error con la operaci\xf3n","error");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}),h()?r.a.createElement("button",{className:"mx-1 btn btn-danger",onClick:function(){}},r.a.createElement("i",{class:"fas fa-qrcode"})):null)},Lt=function(e){return e.error?r.a.createElement("div",{className:"alert alert-danger container"},e.error.message):r.a.createElement("div",{className:"container mt-3"},r.a.createElement("table",{className:"table text-center table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Medio"),r.a.createElement("th",{scope:"col"},"Estado"),r.a.createElement("th",{scope:"col"},r.a.createElement("button",{onClick:e.nuevoMedio,className:"btn btn-outline-success"},"Nuevo Medio")))),r.a.createElement("tbody",null,e.mediosDePago.map((function(t){return r.a.createElement("tr",{key:t.idMedioPago},r.a.createElement("th",{scope:"row"},t.medio),r.a.createElement("td",null,t.habilitado),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-outline-danger mx-1",onClick:function(){return e.delete(t.idMedioPago)}},r.a.createElement("i",{className:"fas fa-trash-alt"})),r.a.createElement("button",{className:"btn btn-outline-warning mx-1",onClick:function(){return e.mostrarDetalle(t)}},r.a.createElement("i",{className:"fas fa-pen"}))))})))))},qt=function(e){return r.a.createElement("div",{className:"container py-4"},r.a.createElement("form",{onSubmit:e.handleSubmit,className:"form-group"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("input",{placeholder:"Nombre del medio de pago",type:"text",name:"medio",value:e.formValues.medio,onChange:e.handleChange,className:"form-control"})),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("select",{name:"habilitado",defaultValue:e.formValues.habilitado,onChange:e.handleChange,className:"form-control"},r.a.createElement("option",{value:"0"},"No disponible"),r.a.createElement("option",{value:"1"},"Disponible"))),r.a.createElement("div",{className:"col-12 mt-3 text-center"},r.a.createElement("input",{type:"submit",className:"btn btn-info",value:"Enviar"})))))},Gt=a(12),Ht=function(){Object(n.useEffect)((function(){R()}),[]);var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(null),s=Object(g.a)(c,2),l=s[0],i=s[1],f=Object(n.useState)(!1),b=Object(g.a)(f,2),h=b[0],E=b[1],v=Object(n.useState)(!1),O=Object(g.a)(v,2),j=O[0],A=O[1],y=Object(n.useState)({idMedioPago:"",medio:"",habilitado:""}),N=Object(g.a)(y,2),x=N[0],S=N[1],k=Object(n.useState)(null),w=Object(g.a)(k,2),C=w[0],V=w[1],R=function(){E(!0),p("".concat(se,"/medioDePago"),"GET").then((function(e){o(e.data),E(!1)})).catch((function(e){i(e)}))},T=function(){return A(!j)},P=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),A(!1),E(!0),a="".concat(se,"/medioDePago/add"),n="POST","edit"==C&&(a="".concat(se,"/medioDePago/update/").concat(x.idMedioPago),n="PUT"),p(a,n,JSON.stringify(x)).then((function(){E(!1),Gt.fire("Listo","Operaci\xf3n finalizada","success").then((function(){return R()}))})).catch((function(e){E(!1),Gt.fire("Error",e,"error")}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,j?r.a.createElement(J,{closeModal:T},r.a.createElement(qt,{formValues:x,handleSubmit:P,handleChange:function(e){return S(Object(K.a)(Object(K.a)({},x),{},Object(z.a)({},e.target.name,e.target.value)))}})):null,r.a.createElement("div",{className:"container pt-3"},r.a.createElement("h2",null,"Listado de Medios de pago")),h?r.a.createElement(D,null):r.a.createElement(Lt,{mediosDePago:a,delete:function(e){Gt.fire({title:"\xbfSeguro quieres eliminar el Medio?",text:"Puede que existan ventas con este medio, se eliminar\xe1n tambi\xe9n.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar"}).then(function(){var t=Object(m.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.isConfirmed){t.next=4;break}return t.next=3,d("".concat(se,"/medioDePago/delete/").concat(e));case 3:Gt.fire("Eliminado","Recurso eliminado","success").then((function(){R()}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},mostrarDetalle:function(e){S({idMedioPago:e.idMedioPago,medio:e.medio,habilitado:e.habilitado}),V("edit"),T()},error:l,nuevoMedio:function(){S({idMedioPago:"",medio:"",habilitado:"1"}),V("new"),T()}}))},Jt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},this.props.banner.descripcion),r.a.createElement("td",null,1===this.props.banner.activo?"Si":"No"),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-outline-danger mx-1",onClick:function(){return e.props.delete(e.props.banner.idBanner)}},r.a.createElement("i",{className:"fas fa-trash-alt"})),r.a.createElement(s.b,{className:"btn btn-outline-warning mx-1",to:"/banners/editar/".concat(this.props.banner.idBanner)},r.a.createElement("i",{className:"fas fa-pen"}))))}}]),a}(r.a.Component),zt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("table",{className:"table text-center table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Descripci\xf3n"),r.a.createElement("th",{scope:"col"},"Activo"),r.a.createElement("th",{scope:"col"},r.a.createElement(s.b,{to:"/banners/agregar",className:"btn btn-outline-success"},"Agregar banner")))),r.a.createElement("tbody",null,this.props.banners.map((function(t){return r.a.createElement(Jt,{key:t.idBanner,banner:t,delete:e.props.delete})})))))}}]),a}(r.a.Component),Kt=a(12),Wt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).state={data:[],error:null,loading:!1},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),this.getBanners()}},{key:"getBanners",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/banners?admin=true"));case 3:t=e.sent,this.setState(Object(K.a)(Object(K.a)({},this.state),{},{data:t.data,loading:!1})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!1,error:e.t0}));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.fire({title:"\xbfSeguro quieres eliminar el banner?",text:"Esta acci\xf3n no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar"}).then(function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=4;break}return e.next=3,d("".concat(se,"/banners/delete/").concat(t));case 3:return e.abrupt("return",Kt.fire("Eliminado","Recurso eliminado","success").then((function(){return window.location.assign("/banners")})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(zt,{banners:this.state.data,delete:this.delete}))}}]),a}(r.a.Component),Zt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).habilitarInputfile=function(e){document.getElementById("input-file-banner").classList.toggle("d-none")},e}return Object(te.a)(a,[{key:"render",value:function(){return void 0===this.props.formValues?null:r.a.createElement("div",{className:"container bg-light border rounded p-4"},r.a.createElement("form",{onSubmit:this.props.onSubmit,id:"form-banner"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Descripci\xf3n"),r.a.createElement("input",{onChange:this.props.onChange,className:"form-control",type:"text",name:"descripcion",defaultValue:this.props.formValues.descripcion||"",required:!0}))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Duraci\xf3n en pantalla (en segundos)"),r.a.createElement("input",{onChange:this.props.onChange,className:"form-control",type:"text",name:"tiempo",value:this.props.formValues.tiempo||"",required:!0}))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Activo"),r.a.createElement("select",{onChange:this.props.onChange,className:"form-control",type:"text",name:"activo",defaultValue:this.props.formValues.activo,required:!0},r.a.createElement("option",{value:"0"},"No"),r.a.createElement("option",{value:"1"},"Si")))),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"checkbox",onChange:this.habilitarInputfile})," Modificar im\xe1gen",r.a.createElement("input",{type:"file",name:"foto",className:"form-control ".concat(this.props.add?"":"d-none"),id:"input-file-banner"}))),r.a.createElement("div",{className:"col-12 col-md-6"},this.props.add?null:r.a.createElement("img",{src:this.props.formValues.url,alt:this.props.formValues.descripcion,className:"img-fluid"}))),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success btn-block my-4"},"Guardar")))}}]),a}(r.a.Component),Yt=a(12),Qt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!0}));var t=JSON.parse(localStorage.getItem("administrador")),a=new Headers;a.append("token",t.token);var r={method:"POST",body:new FormData(document.getElementById("form-banner")),headers:a};fetch("".concat(se,"/banners/add"),r).then((function(e){return e.json()})).then((function(e){if(n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!1})),e.error)return Yt.fire({icon:"error",title:"Oops...",text:e.error});Yt.fire("Guardado exitoso","Se guard\xf3 el banner de manera exitosa!","success").then((function(){return n.props.history.push("/banners")}))})).catch((function(e){return console.log("error",e)}))},n.handleChange=function(e){n.setState(Object(K.a)(Object(K.a)({},n.state),{},{formValues:Object(K.a)(Object(K.a)({},n.state.formValues),{},Object(z.a)({},e.target.name,e.target.value))}))},n.state={loading:!1,error:null,formValues:{descripcion:"",activo:0,tiempo:0}},n}return Object(te.a)(a,[{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement(s.b,{to:"/banners",className:"mb-2 btn btn-outline-danger float"},"Volver al listado"),r.a.createElement("p",{className:"text-center h3 mb-2"},"Agregar banner"),r.a.createElement(Zt,{add:!0,onChange:this.handleChange,formValues:this.state.formValues,onSubmit:this.handleSubmit})))}}]),a}(r.a.Component),Xt=a(12),$t=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(K.a)(Object(K.a)({},n.state),{},{formValues:Object(K.a)(Object(K.a)({},n.state.formValues),{},Object(z.a)({},e.target.name,e.target.value))}))},n.handleSubmit=function(e){e.preventDefault(),n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!0}));var t=JSON.parse(localStorage.getItem("administrador")),a=new Headers;a.append("token",t.token);var r={method:"PUT",headers:a,body:new FormData(document.getElementById("form-banner"))};fetch("".concat(se,"/banners/update/").concat(n.props.match.params.id),r).then((function(e){return e.json()})).then((function(e){return n.setState(Object(K.a)(Object(K.a)({},n.state),{},{loading:!1})),e.error?Xt.fire({icon:"error",title:"Oops...",text:e.error}):Xt.fire("Modificaci\xf3n exitosa","Se modifico el banner de manera exitosa!","success").then((function(){return n.props.history.push("/banners")}))})).catch((function(e){return console.log("error",e)}))},n.state={loading:!1,formValues:{descripcion:"",activo:0,url:"",tiempo:0}},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){this.setState(Object(K.a)(Object(K.a)({},this.state),{},{loading:!0})),this.getBanner()}},{key:"getBanner",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat(se,"/banners/").concat(this.props.match.params.id));case 3:t=e.sent,this.setState({loading:!1,formValues:{descripcion:t.data[0].descripcion,activo:t.data[0].activo,url:t.data[0].url,tiempo:t.data[0].tiempo_slider}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement(s.b,{to:"/banners",className:"mb-2 btn btn-outline-danger float"},"Volver al listado"),r.a.createElement("p",{className:"text-center h3 mb-2"},"Modificar banner"),r.a.createElement(Zt,{add:!1,onChange:this.handleChange,onSubmit:this.handleSubmit,formValues:this.state.formValues})))}}]),a}(r.a.Component),ea=function(e){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},e.user.id),r.a.createElement("td",null,e.user.mail))},ta=function(e){return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("table",{className:"table text-center table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"id"),r.a.createElement("th",{scope:"col"},"Mail"),r.a.createElement("th",{scope:"col"},r.a.createElement(s.b,{to:"/nueva-novedad",className:"btn btn-outline-success"},"Nueva novedad")))),r.a.createElement("tbody",null,e.usuarios.map((function(t){return r.a.createElement(ea,{key:t.id,user:t,delete:e.delete})})))))},aa=function(){Object(n.useEffect)((function(){h()}),[]);var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(null),s=Object(g.a)(c,2),l=(s[0],s[1]),i=Object(n.useState)(!1),d=Object(g.a)(i,2),p=d[0],b=d[1],h=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),t="".concat(se,"/usuario-oferta"),e.next=5,f(t);case 5:a=e.sent,o(a.data),b(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),b(!1),l(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container pt-3"},r.a.createElement("h2",null,"Listado de usuarios")),p?r.a.createElement(D,null):r.a.createElement(ta,{usuarios:a}))},na=function(e){var t=e.onSubmit,a=e.handleChange,n=e.formValues,o=e.error;return r.a.createElement("div",{className:"container bg-light border rounded p-4"},o?r.a.createElement("div",{className:"alert alert-danger text-center"},o):null,r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Asunto"),r.a.createElement("input",{className:"form-control",type:"text",name:"asunto",value:n.asunto,onChange:a,placeholder:"Titulo del email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Novedad"),r.a.createElement("textarea",{className:"form-control",name:"contenido",defaultValue:n.contenido,onChange:a,rows:"30"})),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success btn-block"},"Enviar")))},ra=a(12),oa=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(null),i=Object(g.a)(l,2),d=i[0],p=i[1],f=Object(n.useState)({contenido:"",asunto:""}),b=Object(g.a)(f,2),h=b[0],E=b[1],v=function(){var t=Object(m.a)(u.a.mark((function t(a){var n,r,o,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),""!==h.asunto.trim()&&""!==h.contenido.trim()){t.next=4;break}return p("Completa todos los campos"),t.abrupt("return",!1);case 4:return p(null),c(!0),n=JSON.parse(localStorage.getItem("administrador")),(r=new Headers).append("token",n.token),r.append("Content-Type","application/json"),o={method:"POST",headers:r,body:JSON.stringify(h),redirect:"follow"},t.next=13,fetch("".concat(se,"/usuario-oferta/sendToAll"),o);case 13:if(s=t.sent,c(!1),200===s.status){t.next=18;break}return ra.fire("Ups...","Ha ocurrido un error, intentalo m\xe1s tarde.","error"),t.abrupt("return");case 18:ra.fire("Listo!","El email se ha enviado a todos sus destinatarios!","success").then((function(){e.history.push("/usuarios-ofertas")}));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container pt-3"},r.a.createElement(s.b,{to:"/usuarios-ofertas",className:"mb-2 btn btn-outline-danger float"},"Volver al listado"),r.a.createElement("h2",null,"Nueva noticia")),o?r.a.createElement(D,null):r.a.createElement(na,{formValues:h,error:d,handleChange:function(e){E(Object(K.a)(Object(K.a)({},h),{},Object(z.a)({},e.target.name,e.target.value)))},onSubmit:v}))},ca=function(e,t){switch(t.type){case"USUARIO_LOADING":return Object(K.a)(Object(K.a)({},e),{},{loading:!0,error:!1});case"USUARIO_ERROR":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:t.payload});case"USUARIO_LOGIN":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:null,usuario:t.payload,logueado:!0});case"USUARIO_LOGOUT":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:null,logueado:!1,usuario:null});case"USUARIO_SESION_VENCIDA":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,logueado:!1});default:return e}},sa=function(e){var t=Object(n.useReducer)(ca,{loading:!1,error:null,usuario:null,logueado:!1}),a=Object(g.a)(t,2),o=a[0],c=a[1],s=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"USUARIO_LOADING"}),(a=new Headers).append("Content-Type","application/x-www-form-urlencoded"),(n=new URLSearchParams).append("email",t.email),n.append("password",t.password),r={method:"POST",headers:a,body:n,redirect:"follow"},e.next=9,fetch("".concat(se,"/auth/login"),r);case 9:return o=e.sent,e.next=12,o.json();case 12:if(!(s=e.sent).ok||1!==s.usuario.admin){e.next=16;break}return localStorage.setItem("administrador",JSON.stringify(s)),e.abrupt("return",c({type:"USUARIO_LOGIN",payload:s.usuario}));case 16:return e.abrupt("return",c({type:"USUARIO_ERROR",payload:s}));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c({type:"USUARIO_LOADING"}),t=JSON.parse(localStorage.getItem("administrador"))){e.next=5;break}return c({type:"USUARIO_ERROR",payload:null}),e.abrupt("return",!1);case 5:return a=t.usuario,n=t.token,(r=new Headers).append("token",n),e.next=10,fetch("".concat(se,"/auth/verify-sesion"),{method:"GET",headers:r});case 10:if(200!==e.sent.status){e.next=13;break}return e.abrupt("return",c({type:"USUARIO_LOGIN",payload:a}));case 13:return e.abrupt("return",c({type:"USUARIO_SESION_VENCIDA"}));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(O.Provider,{value:{loading:o.loading,error:o.error,usuario:o.usuario,logueado:o.logueado,login:s,obtenerUsuario:l,logout:function(){localStorage.removeItem("administrador"),c({type:"USUARIO_LOGOUT"})}}},e.children)},la=function(e,t){switch(t.type){case"BALANCE_LOADING":return Object(K.a)(Object(K.a)({},e),{},{loading:!0,error:null});case"BALANCE_ERROR":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:t.payload});case"BALANCE_OBTENER_DATOS":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:null,data:{ventas:t.payload.ventas,usuarios:t.payload.nuevos_usuarios,recaudacion:t.payload.recaudacion,sin_stock:t.payload.sin_stock}});case"BALANCE_CAMBIAR_FORMATO_FECHA":return Object(K.a)(Object(K.a)({},e),{},{formatoFecha:t.payload});case"BALANCE_CAMBIAR_FECHA":return Object(K.a)(Object(K.a)({},e),{},{fecha:t.payload});default:return e}},ia=function(e){var t=Object(n.useReducer)(la,{loading:!1,error:null,data:{ventas:0,usuarios:0,recaudacion:0,sin_stock:0},fecha:null,formatoFecha:"YYYY-MM-DD"}),a=Object(g.a)(t,2),o=a[0],c=a[1],s=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c({type:"BALANCE_LOADING"}),t=JSON.parse(localStorage.getItem("administrador"))){e.next=5;break}return c({type:"BALANCE_ERROR",payload:{error:"No esta autenticado"}}),e.abrupt("return",!1);case 5:return a=t.token,(n=new Headers).append("token",a),e.next=10,fetch("".concat(se,"/estadisticas?fecha=").concat(o.fecha),{headers:n});case 10:if(200===(r=e.sent).status){e.next=14;break}return c({type:"BALANCE_ERROR",payload:{error:"Ha ocurrido un error en el servidor"}}),e.abrupt("return");case 14:return e.next=16,r.json();case 16:s=e.sent,c({type:"BALANCE_OBTENER_DATOS",payload:s.info});case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(R.Provider,{value:{loading:o.loading,error:o.error,data:o.data,fecha:o.fecha,formatoFecha:o.formatoFecha,traerInfo:s,aplicarFecha:function(e){c({type:"BALANCE_CAMBIAR_FECHA",payload:e})},cambiarFormatoFecha:function(e){c({type:"BALANCE_CAMBIAR_FORMATO_FECHA",payload:e})}}},e.children)},ua=function(e,t){switch(t.type){case"VENTAS_LOADING":return Object(K.a)(Object(K.a)({},e),{},{loading:!0,error:null});case"VENTAS_ERROR":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:t.payload});case"VENTAS_OBTENER_ULTIMAS":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:null,ultimasVentas:t.payload});default:return e}},ma=function(e){var t=Object(n.useReducer)(ua,{loading:!1,error:null,ultimasVentas:[],ventas:[],cantidad:6}),a=Object(g.a)(t,2),o=a[0],c=a[1],s=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c({type:"VENTAS_LOADING"}),t=JSON.parse(localStorage.getItem("administrador"))){e.next=5;break}return c({type:"VENTAS_ERROR",payload:{error:"No esta autenticado"}}),e.abrupt("return",!1);case 5:return a=t.token,(n=new Headers).append("token",a),e.next=10,fetch("".concat(se,"/estadisticas/ultimas-ventas?cantidad=").concat(o.cantidad),{headers:n});case 10:if(200===(r=e.sent).status){e.next=14;break}return c({type:"VENTAS_ERROR",payload:{error:"Ha ocurrido un error en el servidor"}}),e.abrupt("return");case 14:return e.next=16,r.json();case 16:s=e.sent,c({type:"VENTAS_OBTENER_ULTIMAS",payload:s.ventas});case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(B.Provider,{value:{loading:o.loading,error:o.error,ultimasVentas:o.ultimasVentas,ventas:o.ventas,cantidad:o.cantidad,traerUltimas:s}},e.children)},da=function(e,t){switch(t.type){case"MEDIOS_DE_PAGO_LOADING":return Object(K.a)(Object(K.a)({},e),{},{loading:!0,error:null});case"MEDIOS_DE_PAGO_ERROR":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:t.payload});case"MEDIOS_DE_PAGO_OBTENER_INFORME":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:null,dataInforme:t.payload});default:return e}},pa=function(e){var t=Object(n.useReducer)(da,{loading:!1,error:null,data:[],dataInforme:null}),a=Object(g.a)(t,2),o=a[0],c=a[1],s=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c({type:"MEDIOS_DE_PAGO_LOADING"}),t=JSON.parse(localStorage.getItem("administrador"))){e.next=5;break}return c({type:"MEDIOS_DE_PAGO_ERROR",payload:{error:"No esta autenticado"}}),e.abrupt("return",!1);case 5:return a=t.token,(n=new Headers).append("token",a),e.next=10,fetch("".concat(se,"/estadisticas/informes/ventas/medios-de-pago"),{headers:n});case 10:if(200===(r=e.sent).status){e.next=14;break}return c({type:"MEDIOS_DE_PAGO_ERROR",payload:{error:"Ha ocurrido un error en el servidor"}}),e.abrupt("return");case 14:return e.next=16,r.json();case 16:o=e.sent,c({type:"MEDIOS_DE_PAGO_OBTENER_INFORME",payload:o.data[0]});case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(L.Provider,{value:{loading:o.loading,error:o.error,data:o.data,dataInforme:o.dataInforme,traerDataInforme:s}},e.children)},fa=function(e,t){switch(t.type){case"MARCAS_LOADING":return Object(K.a)(Object(K.a)({},e),{},{loading:!0,error:null});case"MARCAS_ERROR":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:t.payload});case"MARCAS_TRAER_TODAS":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:null,data:t.payload});case"MARCAS_APLICAR_AUMENTO":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:null});default:return e}},ba=function(e){var t=Object(n.useReducer)(fa,{loading:!1,error:null,data:[]}),a=Object(g.a)(t,2),o=a[0],c=a[1],s=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c({type:"MARCAS_LOADING"}),t=JSON.parse(localStorage.getItem("administrador"))){e.next=5;break}return c({type:"MARCAS_ERROR",payload:{error:"No esta autenticado"}}),e.abrupt("return",!1);case 5:return a=t.token,(n=new Headers).append("token",a),e.next=10,fetch("".concat(se,"/marcas"),{headers:n});case 10:if(200===(r=e.sent).status){e.next=14;break}return c({type:"MARCAS_ERROR",payload:{error:"Ha ocurrido un error en el servidor"}}),e.abrupt("return");case 14:return e.next=16,r.json();case 16:o=e.sent,c({type:"MARCAS_TRAER_TODAS",payload:o.data});case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c({type:"MARCAS_LOADING"}),a=JSON.parse(localStorage.getItem("administrador"))){e.next=5;break}return c({type:"MARCAS_ERROR",payload:{error:"No esta autenticado"}}),e.abrupt("return",!1);case 5:return n=a.token,(r=new Headers).append("token",n),r.append("Content-Type","application/json"),e.next=11,fetch("".concat(se,"/aumentos/subproducto/marca"),{headers:r,method:"PUT",body:JSON.stringify(t)});case 11:if(200===e.sent.status){e.next=14;break}return e.abrupt("return",c({type:"MARCAS_ERROR",payload:{error:"Ha ocurrido un error en el servidor"}}));case 14:return e.abrupt("return",c({type:"MARCAS_APLICAR_AUMENTO"}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(W.Provider,{value:{loading:o.loading,error:o.error,data:o.data,traerTodas:s,aplicarAumento:l}},e.children)},ha=a(49),ga=function(e){var t=e.component,a=Object(ha.a)(e,["component"]),o=Object(n.useContext)(O),c=o.logueado,s=o.loading,i=o.obtenerUsuario,d=Object(n.useState)(!1),p=Object(g.a)(d,2),f=p[0],b=p[1];Object(n.useEffect)((function(){h()}),[]);var h=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:b(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f?r.a.createElement(l.b,Object.assign({},a,{render:function(e){return c||s?r.a.createElement(t,e):r.a.createElement(l.a,{to:"/ingresar"})}})):r.a.createElement(D,null)},Ea=a(48),va=a(19),Oa=Object(n.createContext)(),ja=function(){var e=Object(n.useContext)(Oa),t=e.loading,a=e.error,o=e.data,c=e.traerOfertas,l=e.eliminarOferta,i=e.cambiarEstado;Object(n.useEffect)((function(){c()}),[]);if(t)return r.a.createElement(D,null);a&&A.a.fire("Error",a,"error");var d=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:c();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"table text-center table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Foto"),r.a.createElement("th",{scope:"col"},"Titulo"),r.a.createElement("th",{scope:"col"},"Valido hasta"),r.a.createElement("th",{scope:"col"},"Activo"),r.a.createElement("th",{scope:"col"},r.a.createElement(s.b,{to:"/ofertas/agregar",className:"btn btn-outline-success"},"Agregar oferta")))),r.a.createElement("tbody",null,o.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",{scope:"row"},r.a.createElement("img",{style:{objectFit:"cover"},src:e.foto,alt:e.descripcion,width:50,height:50})),r.a.createElement("td",null,e.titulo),r.a.createElement("td",null,P()(e.validoHasta).format("DD-MM-YYYY")),r.a.createElement("td",null,r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",checked:e.activo,onChange:function(t){return d(e.id)}}),r.a.createElement("span",{className:"slider round"}))),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-outline-danger mx-1",onClick:function(){return t=e.id,void A.a.fire({title:"\xbfSeguro quieres eliminar la oferta?",text:"Esta acci\xf3n no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar"}).then(function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=4;break}return e.next=3,l(t);case 3:A.a.fire("Eliminado","Recurso eliminado","success").then((function(){return c()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var t}},r.a.createElement("i",{className:"fas fa-trash-alt"})),r.a.createElement(s.b,{className:"btn btn-outline-warning mx-1",to:"/ofertas/editar/".concat(e.id)},r.a.createElement("i",{className:"fas fa-pen"}))))})))),0===o.length?r.a.createElement("div",{className:"alert alert-warning text-center"},"No se encontraron resultados"):null)},Aa=function(){return r.a.createElement("div",{className:"container mt-4"},r.a.createElement("h2",null,"Ofertas"),r.a.createElement(ja,null))},ya=a(34),Na=function(e,t){switch(t.type){case"OFERTAS_LOADING":return Object(K.a)(Object(K.a)({},e),{},{loading:!0,error:!1});case"OFERTAS_ERROR":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:t.payload});case"OFERTAS_TRAER":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:null,data:t.payload,oferta:null});case"OFERTAS_TRAER_MAS":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:null,data:[].concat(Object(ya.a)(e.data),[t.payload])});case"OFERTAS_UPDATE_PAGINATION":return Object(K.a)(Object(K.a)({},e),{},{pagination:Object(K.a)(Object(K.a)({},e.pagination),{},{desde:e.pagination.desde+10})});case"OFERTAS_AGREGAR":case"OFERTAS_MODIFICAR":case"OFERTAS_ELIMINAR":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:null,pagination:{desde:0,cantidad:10}});case"OFERTAS_TRAER_UNA":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:null,oferta:t.payload});case"OFERTAS_AGREGAR_PRODUCTO":case"OFERTAS_ELIMINAR_PRODUCTO":case"OFERTAS_CAMBIAR_ACTIVO":return Object(K.a)(Object(K.a)({},e),{},{loading:!1,error:null});default:return e}},xa=function(e){var t=Object(n.useReducer)(Na,{loading:!1,error:null,data:[],pagination:{desde:0,cantidad:10},oferta:null}),a=Object(g.a)(t,2),o=a[0],c=a[1],s=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"OFERTAS_LOADING"}),e.prev=1,t=JSON.parse(localStorage.getItem("administrador")),e.next=5,fetch("".concat(se,"/ofertas?desde=").concat(o.pagination.desde,"&cantidad=").concat(o.pagination.cantidad),{headers:{token:t.token}});case 5:return a=e.sent,e.next=8,a.json();case 8:return n=e.sent,e.abrupt("return",c({type:"OFERTAS_TRAER",payload:n.data}));case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),c({type:"OFERTAS_ERROR",payload:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"OFERTAS_LOADING"}),e.prev=1,e.next=4,fetch("".concat(se,"/ofertas?desde=").concat(o.pagination.desde,"&cantidad=").concat(o.pagination.cantidad));case 4:return t=e.sent,e.next=7,t.json();case 7:return a=e.sent,e.abrupt("return",c({type:"OFERTAS_TRAER_MAS",payload:a.data}));case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),c({type:"OFERTAS_ERROR",payload:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"OFERTAS_LOADING"}),e.prev=1,e.next=4,fetch("".concat(se,"/ofertas/").concat(t));case 4:return a=e.sent,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",c({type:"OFERTAS_TRAER_UNA",payload:n.data[0]}));case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),c({type:"OFERTAS_ERROR",payload:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"OFERTAS_LOADING"}),e.prev=1,a=JSON.parse(localStorage.getItem("administrador")),e.next=5,fetch("".concat(se,"/ofertas"),{method:"POST",body:t,headers:{token:a.token}});case 5:return e.abrupt("return",c({type:"OFERTAS_AGREGAR"}));case 8:e.prev=8,e.t0=e.catch(1),c({type:"OFERTAS_ERROR",payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"OFERTAS_LOADING"}),e.prev=1,n=JSON.parse(localStorage.getItem("administrador")),e.next=5,fetch("".concat(se,"/ofertas/").concat(a),{method:"PUT",body:t,headers:{token:n.token}});case 5:return e.abrupt("return",c({type:"OFERTAS_MODIFICAR"}));case 8:e.prev=8,e.t0=e.catch(1),c({type:"OFERTAS_ERROR",payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"OFERTAS_LOADING"}),e.prev=1,n=JSON.parse(localStorage.getItem("administrador")),(r=new Headers).append("Content-Type","application/json"),r.append("token",n.token),e.next=8,fetch("".concat(se,"/ofertas/agregarProducto/").concat(a),{method:"POST",body:JSON.stringify({productos:[t]}),headers:r});case 8:if(201===(o=e.sent).status){e.next=11;break}return e.abrupt("return",c({type:"OFERTAS_ERROR",payload:o.statusText}));case 11:return e.abrupt("return",c({type:"OFERTAS_AGREGAR_PRODUCTO"}));case 14:e.prev=14,e.t0=e.catch(1),c({type:"OFERTAS_ERROR",payload:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"OFERTAS_LOADING"}),e.prev=1,a=JSON.parse(localStorage.getItem("administrador")),(n=new Headers).append("token",a.token),e.next=7,fetch("".concat(se,"/ofertas/eliminarProducto/").concat(t),{method:"DELETE",headers:n});case 7:return e.sent,e.abrupt("return",c({type:"OFERTAS_ELIMINAR_PRODUCTO"}));case 11:e.prev=11,e.t0=e.catch(1),c({type:"OFERTAS_ERROR",payload:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"OFERTAS_LOADING"}),e.prev=1,a=JSON.parse(localStorage.getItem("administrador")),(n=new Headers).append("token",a.token),e.next=7,fetch("".concat(se,"/ofertas/").concat(t),{method:"DELETE",headers:n});case 7:return e.sent,e.abrupt("return",c({type:"OFERTAS_ELIMINAR"}));case 11:e.prev=11,e.t0=e.catch(1),c({type:"OFERTAS_ERROR",payload:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"OFERTAS_LOADING"}),e.prev=1,a=JSON.parse(localStorage.getItem("administrador")),(n=new Headers).append("token",a.token),e.next=7,fetch("".concat(se,"/ofertas/cambiarEstado/").concat(t),{method:"PUT",headers:n});case 7:return e.sent,e.abrupt("return",c({type:"OFERTAS_CAMBIAR_ACTIVO"}));case 11:e.prev=11,e.t0=e.catch(1),c({type:"OFERTAS_ERROR",payload:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Oa.Provider,{value:{loading:o.loading,error:o.error,data:o.data,oferta:o.oferta,traerOfertas:s,traerMasOfertas:l,updatePaginacion:function(){return c({type:"OFERTAS_UPDATE_PAGINATION"})},agregarOferta:d,traerOfertaPorId:i,modificarOferta:p,agregarProducto:f,eliminarProducto:b,eliminarOferta:h,cambiarEstado:E}},e.children)},Sa=function(e){return r.a.createElement("table",{className:"table text-center table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Producto"),r.a.createElement("th",{scope:"col"},"Subproducto"),r.a.createElement("th",{scope:"col"}))),r.a.createElement("tbody",null,e.productos.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("th",{scope:"row"},t.producto),r.a.createElement("td",null,t.subProducto),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-outline-danger mx-1",onClick:function(){return e.onDelete(t.id)}},r.a.createElement("i",{className:"fas fa-trash-alt"}))))}))))},ka=function(){var e=Object(n.useContext)(Oa),t=e.loading,a=e.error,o=e.oferta,c=e.agregarOferta,s=e.modificarOferta,i=e.agregarProducto,d=e.traerOfertaPorId,p=e.eliminarProducto,f=Object(n.useState)({titulo:"",descripcion:"",validoHasta:P()(new Date).format("YYYY-MM-DD"),activo:0}),b=Object(g.a)(f,2),h=b[0],E=b[1],v=Object(n.useState)({idProducto:"",idSubProducto:"",producto:""}),O=Object(g.a)(v,2),j=O[0],y=O[1],N=Object(n.useState)(!1),x=Object(g.a)(N,2),S=x[0],k=x[1],w=Object(n.useState)(null),C=Object(g.a)(w,2),V=C[0],R=C[1],T=Object(n.useState)([]),M=Object(g.a)(T,2),I=M[0],B=M[1],_=Object(n.useState)(!1),F=Object(g.a)(_,2),U=F[0],L=F[1],q=Object(n.useState)([]),G=Object(g.a)(q,2),H=G[0],J=G[1],W=Object(l.g)();Object(n.useEffect)((function(){o&&(E({descripcion:o.descripcion,validoHasta:P()(o.validoHasta).format("YYYY-MM-DD"),titulo:o.titulo,activo:o.activo}),B(o.productos))}),[]),Object(n.useEffect)((function(){S&&k(!1)}),[H]);var Z=function(e){E(Object(K.a)(Object(K.a)({},h),{},Object(z.a)({},e.target.name,e.target.value)))},Y=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==j.idProducto&&""!==j.idSubProducto){e.next=4;break}return A.a.fire("Atenci\xf3n","Quedan campos por completar","warning"),e.abrupt("return");case 4:if(!o){e.next=13;break}return e.next=7,i(j,o.id);case 7:if(!a){e.next=10;break}return A.a.fire("Atenci\xf3n",a,"error"),e.abrupt("return");case 10:A.a.fire("Listo","El producto se agreg\xf3 a la oferta","success").then((function(){y({idProducto:"",idSubProducto:"",producto:""}),d(o.id)})),e.next=14;break;case 13:B([].concat(Object(ya.a)(I),[j]));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),e.next=4,fetch("".concat(se,"/productos/").concat(t));case 4:return a=e.sent,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",J(n.subproductos));case 11:e.prev=11,e.t0=e.catch(0),R(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=new FormData).append("descripcion",h.descripcion),t.append("validoHasta",h.validoHasta),t.append("titulo",h.titulo),t.append("activo",h.activo),t.append("foto",document.getElementById("foto").files[0]?document.getElementById("foto").files[0]:null),o){e.next=12;break}return t.append("productos",JSON.stringify(I)),e.next=10,c(t);case 10:e.next=14;break;case 12:return e.next=14,s(t,o.id);case 14:a||A.a.fire("Listo","Oferta guardada con \xe9xito","success").then((function(){W.push("/ofertas")}));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return V&&A.a.fire("Error",V,"error"),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"form-group",onSubmit:function(e){e.preventDefault()},id:"form-oferta"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6 my-3"},r.a.createElement("input",{type:"text",name:"titulo",id:"titulo",onChange:Z,className:"form-control",placeholder:"Titulo de la oferta",value:h.titulo})),r.a.createElement("div",{className:"col-12 col-md-6 my-3"},r.a.createElement("input",{type:"date",name:"validoHasta",id:"validoHasta",onChange:Z,className:"form-control",value:h.validoHasta})),r.a.createElement("div",{className:"col-12 my-3"},r.a.createElement("label",{htmlFor:"descripcion"},"Descripci\xf3n:"),r.a.createElement("textarea",{className:"form-control",name:"descripcion",id:"descripcion",defaultValue:h.descripcion,onChange:Z,rows:7})),r.a.createElement("div",{className:"col-12 my-3"},r.a.createElement("input",{type:"file",name:"foto",id:"foto",onChange:Z,className:"form-control"})),r.a.createElement("input",{type:"hidden",name:"activo",value:h.activo}))),r.a.createElement("h2",{className:"my-3"},"Agregar productos a la oferta"),r.a.createElement("form",{className:"form-group",onSubmit:Y},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-5 my-3"},r.a.createElement("input",{type:"hidden",name:"idProducto",id:"idProducto",value:j.idProducto}),r.a.createElement("button",{type:"button",className:"btn btn-success w-100",onClick:function(){return L(!U)}},"Buscar producto padre"),r.a.createElement("span",{style:{backgroundColor:"gray",color:"white",borderRadius:"10px"},className:"d-block mt-2 text-center"},j.producto)),r.a.createElement("div",{className:"col-12 col-md-5 my-3"},S?"Buscando subproductos...":r.a.createElement("select",{className:"form-control",name:"idSubProducto",id:"idSubProducto",defaultValue:j.idSubProducto,onChange:function(e){y(Object(K.a)(Object(K.a)({},j),{},Object(z.a)({},e.target.name,e.target.value)))}},r.a.createElement("option",{value:""},"Selecciona subproducto"),H.map((function(e){return r.a.createElement("option",{value:e.idSubProducto,key:e.idSubProducto},e.subProducto)})))),r.a.createElement("div",{className:"col-12 col-md-2 my-3"},r.a.createElement("button",{type:"submit",className:"btn btn-info w-100"},"Agregar")))),r.a.createElement("h2",{className:"my-3"},"Productos de la oferta"),r.a.createElement("div",{className:"row"},r.a.createElement(Sa,{productos:I,onDelete:function(e){A.a.fire({title:"\xbfSeguro quieres eliminar el producto?",text:"Esta acci\xf3n no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar"}).then(function(){var t=Object(m.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.isConfirmed){t.next=4;break}return t.next=3,p(e);case 3:A.a.fire("Eliminado","Recurso eliminado","success").then((function(){return d(o.id)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}})),r.a.createElement("hr",null),t?r.a.createElement(D,null):r.a.createElement("button",{type:"button",className:"btn btn-warning w-100",onClick:X},"Cargar Oferta"),U?r.a.createElement(at,{setProductoPadre:function(e,t){L(!1),y(Object(K.a)(Object(K.a)({},j),{},{idProducto:e,producto:t})),Q(e)}}):null)},wa=function(){return r.a.createElement("div",{className:"container mt-4"},r.a.createElement("h2",null,"Nueva oferta"),r.a.createElement(ka,null))},Ca=function(e){var t=Object(n.useContext)(Oa),a=t.loading,o=t.error,c=t.oferta,s=t.traerOfertaPorId,i=Object(l.g)();return Object(n.useEffect)((function(){s(e.match.params.id)}),[]),a?r.a.createElement(D,null):(o&&A.a.fire("error",o,"error"),c?r.a.createElement("div",{className:"container mt-4"},r.a.createElement("button",{type:"button",className:"btn btn-warning mb-3",onClick:function(){return i.goBack()}},"Volver"),r.a.createElement("h2",null,"Detalle de la oferta"),r.a.createElement(ka,null)):null)};var Va=function(){return r.a.createElement(s.a,null,r.a.createElement(sa,null,r.a.createElement(ia,null,r.a.createElement(ma,null,r.a.createElement(pa,null,r.a.createElement(ba,null,r.a.createElement(xa,null,r.a.createElement(va.a,{utils:Ea.a},r.a.createElement(w,null,r.a.createElement(l.d,null,r.a.createElement(ga,{exact:!0,path:"/",component:Q}),r.a.createElement(l.b,{exact:!0,path:"/ingresar",component:$}),r.a.createElement(ga,{exact:!0,path:"/subproductos",component:tt}),r.a.createElement(ga,{exact:!0,path:"/subproducto/agregar",component:ot}),r.a.createElement(ga,{exact:!0,path:"/subproducto/editar/:id",component:st}),r.a.createElement(ga,{exact:!0,path:"/productos",component:ue}),r.a.createElement(ga,{exact:!0,path:"/producto/agregar",component:je}),r.a.createElement(ga,{exact:!0,path:"/producto/editar/:productId",component:_e}),r.a.createElement(ga,{exact:!0,path:"/categorias",component:ke}),r.a.createElement(ga,{exact:!0,path:"/categoria/agregar",component:Te}),r.a.createElement(ga,{exact:!0,path:"/categoria/editar/:id",component:qe}),r.a.createElement(ga,{exact:!0,path:"/subcategorias",component:ze}),r.a.createElement(ga,{exact:!0,path:"/subcategoria/agregar",component:Ze}),r.a.createElement(ga,{exact:!0,path:"/subcategoria/editar/:id",component:Qe}),r.a.createElement(ga,{exact:!0,path:"/marcas",component:he}),r.a.createElement(ga,{exact:!0,path:"/marca/agregar",component:De}),r.a.createElement(ga,{exact:!0,path:"/marca/editar/:id",component:Ue}),r.a.createElement(ga,{exact:!0,path:"/tama\xf1os",component:mt}),r.a.createElement(ga,{exact:!0,path:"/tama\xf1o/agregar",component:ft}),r.a.createElement(ga,{exact:!0,path:"/tama\xf1o/editar/:id",component:ht}),r.a.createElement(ga,{exact:!0,path:"/legales",component:vt}),r.a.createElement(ga,{exact:!0,path:"/legales/editar",component:At}),r.a.createElement(ga,{exact:!0,path:"/zonas-envio",component:St}),r.a.createElement(ga,{exact:!0,path:"/zonas-envio/editar/:id",component:Rt}),r.a.createElement(ga,{exact:!0,path:"/zonas-envio/agregar",component:Ct}),r.a.createElement(ga,{exact:!0,path:"/envios",component:Ut}),r.a.createElement(ga,{exact:!0,path:"/envios/editar/:id",component:Ut}),r.a.createElement(ga,{exact:!0,path:"/envios/agregar",component:Ut}),r.a.createElement(ga,{exact:!0,path:"/banners",component:Wt}),r.a.createElement(ga,{exact:!0,path:"/banners/editar/:id",component:$t}),r.a.createElement(ga,{exact:!0,path:"/banners/agregar",component:Qt}),r.a.createElement(ga,{exact:!0,path:"/medios-de-pago",component:Ht}),r.a.createElement(ga,{exact:!0,path:"/usuarios-ofertas",component:aa}),r.a.createElement(ga,{exact:!0,path:"/nueva-novedad",component:oa}),r.a.createElement(ga,{exact:!0,path:"/ofertas",component:Aa}),r.a.createElement(ga,{exact:!0,path:"/ofertas/agregar",component:wa}),r.a.createElement(ga,{exact:!0,path:"/ofertas/editar/:id",component:Ca})))))))))))};c.a.render(r.a.createElement(Va,null),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.5babcabe.chunk.js.map