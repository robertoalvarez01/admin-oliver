(this["webpackJsonpadmin-oliver"]=this["webpackJsonpadmin-oliver"]||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/logo-mascota.1f7f94c3.png"},24:function(e,t,a){e.exports=a(36)},29:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),c=a.n(o),l=(a(29),a(5)),i=a(6),s=a(1),m=a(2),u=a(4),p=a(3),d=a(22),h=a.n(d),f=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement(l.b,{className:"navbar-brand mx-auto",to:"/"},r.a.createElement("img",{src:h.a,width:40,height:40,alt:"Admin oliver",loading:"lazy"}))))}}]),a}(n.Component);var g=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),e.children)},b=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={administrador:""},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){null===localStorage.getItem("administrador")&&this.props.history.push("/ingresar")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"list-group container text-center mt-4"},r.a.createElement(l.b,{to:"/productos",className:"list-group-item list-group-item-action"},"SUBPRODUCTOS"),r.a.createElement(l.b,{to:"/categorias",className:"list-group-item list-group-item-action"},"CATEGORIAS"),r.a.createElement(l.b,{to:"/marcas",className:"list-group-item list-group-item-action"},"MARCAS"),r.a.createElement(l.b,{to:"/ingresar",className:"list-group-item list-group-item-action list-group-item-danger"},"CERRAR SESI\xd3N")))}}]),a}(n.Component),v=a(9),E=a(7),O=(a(35),"https://api.oliverpetshop.com.ar"),y=a(13),k=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={form:{email:"",password:""}},e.handleChange=function(t){e.setState({form:Object(E.a)(Object(E.a)({},e.state.form),{},Object(v.a)({},t.target.name,t.target.value))})},e.handleSubmit=function(t){t.preventDefault();var a=new Headers;a.append("Content-Type","application/x-www-form-urlencoded");var n=new URLSearchParams;n.append("email",e.state.form.email),n.append("password",e.state.form.password);var r={method:"POST",headers:a,body:n,redirect:"follow"};fetch("".concat(O,"/login"),r).then((function(e){return e.text()})).then((function(t){var a=JSON.parse(t);if(!a.ok||"ADMIN_ROLE"!==a.usuario.role)return y.fire({icon:"error",title:"Oops...",text:"No coinciden sus credenciales con ninguno de los administradores, Por favor intente denuevo..."});y.fire("Ingreso exitoso!","Bienvenido "+a.usuario.nombre+", no olvides cerrar sesion cuando termines...","success"),localStorage.setItem("administrador",t),e.props.history.push("/")})).catch((function(e){return console.log("error",e)}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){localStorage.removeItem("administrador")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"myForm bg-dark text-white p-5 border rounded",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{className:"form-control input-lg text-center",type:"email",name:"email",id:"email",placeholder:"Ingrese su Email...",onChange:this.handleChange,value:this.state.form.email})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),r.a.createElement("input",{className:"form-control input-lg text-center",type:"password",name:"password",placeholder:"Ingrese su Contrase\xf1a...",onChange:this.handleChange,value:this.state.form.password})),r.a.createElement("div",{className:"form-group mt-5"},r.a.createElement("input",{type:"submit",name:"submit",className:"btn btn-success btn-block",defaultValue:"Sign Up"})))))}}]),a}(n.Component),N=a(13),S=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"handleDelete",value:function(e){var t=this;console.log(e);var a=JSON.parse(localStorage.getItem("administrador"));N.fire({title:"Estas seguro?",text:"Quieres eliminar este producto?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si!"}).then((function(n){if(n.value){var r=new Headers;r.append("token",a.token);var o={method:"DELETE",headers:r,redirect:"follow"};console.log(e),fetch("".concat(O,"/subproducto/").concat(e),o).then((function(e){return e.text()})).then((function(e){var a=JSON.parse(e);if(console.log(a),!a.ok)return N.fire({icon:"error",title:"Oops...",text:"Ocurri\xf3 un error inesperado, intente denuevo"});N.fire("Listo!","Se ha eliminado su producto!","success"),t.props.history.push("/productos")})).catch((function(e){return console.log("error",e)}))}}))}},{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},this.props.producto.nombre),r.a.createElement("td",null,this.props.producto.stock),r.a.createElement("td",null,this.props.producto.codigoBarra),r.a.createElement("td",null,this.props.producto.precioUni),r.a.createElement("td",null,r.a.createElement(l.b,{to:"/describirProducto/".concat(this.props.producto._id)},"Ver")," - ",r.a.createElement(l.b,{to:"/editarProducto/".concat(this.props.producto._id)},"Editar")," - ",r.a.createElement(l.b,{onClick:function(){return e.handleDelete(e.props.producto._id)}},"Eliminar")))}}]),a}(r.a.Component),j=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){null===localStorage.getItem("administrador")&&this.props.history.push("/ingresar")}},{key:"render",value:function(){return r.a.createElement("div",{className:"mx-3 mt-3"},r.a.createElement("div",null,r.a.createElement(l.b,{to:"/producto/agregar",className:"btn btn-outline-success float-right mb-2"},"Agregar producto"),r.a.createElement(l.b,{to:"/",className:"btn btn-outline-danger float-right mb-2 mr-2"},"Volver al inicio")),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Producto"),r.a.createElement("th",{scope:"col"},"stock"),r.a.createElement("th",{scope:"col"},"Codigo de barra"),r.a.createElement("th",{scope:"col"},"Precio"),r.a.createElement("th",{scope:"col"},"Acciones"))),r.a.createElement("tbody",null,this.props.products.map((function(e){return r.a.createElement(S,{key:e._id,producto:e})})))))}}]),a}(r.a.Component),C=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={data:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;null===localStorage.getItem("administrador")&&this.props.history.push("/ingresar");var t=JSON.parse(localStorage.getItem("administrador")),a=new Headers;a.append("token",t.token);var n={method:"GET",headers:a,redirect:"follow"};fetch("".concat(O,"/subproducto"),n).then((function(e){return e.text()})).then((function(t){var a=JSON.parse(t);console.log(a),e.setState({data:a.productos})})).catch((function(e){return console.log("error",e)}))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{products:this.state.data}))}}]),a}(r.a.Component),w=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},this.props.marca._id),r.a.createElement("td",null,this.props.marca.descripcion),r.a.createElement("td",null,"Editar - Eliminar"))}}]),a}(r.a.Component),x=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"mx-3 mt-3"},r.a.createElement("div",null,r.a.createElement(l.b,{to:"/marca/agregar",className:"btn btn-outline-success float-right mb-2"},"Agregar marca"),r.a.createElement(l.b,{to:"/",className:"btn btn-outline-danger float-right mb-2 mr-2"},"Volver al inicio")),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"id"),r.a.createElement("th",{scope:"col"},"Marca"),r.a.createElement("th",{scope:"col"},"Acciones"))),r.a.createElement("tbody",null,this.props.marcas.map((function(e){return r.a.createElement(w,{key:e._id,marca:e})})))))}}]),a}(r.a.Component),I=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={data:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;null===localStorage.getItem("administrador")&&this.props.history.push("/ingresar");var t=JSON.parse(localStorage.getItem("administrador")),a=new Headers;a.append("token",t.token);var n={method:"GET",headers:a,redirect:"follow"};fetch("".concat(O,"/marca"),n).then((function(e){return e.text()})).then((function(t){var a=JSON.parse(t);console.log(a),e.setState({data:a.marcas})})).catch((function(e){return console.log("error",e)}))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{marcas:this.state.data}))}}]),a}(r.a.Component),D=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={categorias:[],marcas:[]},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container bg-light border rounded p-4"},r.a.createElement("form",{onSubmit:this.props.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nombre del producto: (obligatorio)"),r.a.createElement("input",{onChange:this.props.onChange,className:"form-control",type:"text",name:"nombre",value:this.props.formValues.nombre})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Precio por unidad: (obligatorio)"),r.a.createElement("input",{onChange:this.props.onChange,className:"form-control",type:"number",name:"precioUni",value:this.props.formValues.precioUni})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Peso del producto: "),r.a.createElement("input",{onChange:this.props.onChange,className:"form-control",type:"number",name:"peso",value:this.props.formValues.peso})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Stock actual: (obligatorio)"),r.a.createElement("input",{onChange:this.props.onChange,className:"form-control",type:"number",name:"stock",value:this.props.formValues.stock})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Stock minimo para enviar un alerta de reposici\xf3n: (obligatorio)"),r.a.createElement("input",{onChange:this.props.onChange,className:"form-control",type:"number",name:"minimo",value:this.props.formValues.minimo})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Codigo de barra: (no es obligatorio)"),r.a.createElement("input",{onChange:this.props.onChange,className:"form-control",type:"text",name:"codigoBarra",value:this.props.formValues.codigoBarra})),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success btn-block"},"Guardar")))}}]),a}(r.a.Component),J=a(13),A=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={form:{nombre:"",precioUni:"",categoria:"",descripcionBasica:"",marca:"",descripcion:"",stock:"",minimo:"",codigoBarra:""}},e.handleChange=function(t){e.setState({form:Object(E.a)(Object(E.a)({},e.state.form),{},Object(v.a)({},t.target.name,t.target.value))})},e.handleSubmit=function(t){t.preventDefault();var a=JSON.parse(localStorage.getItem("administrador")),n=new Headers;n.append("token",a.token),n.append("Content-Type","application/x-www-form-urlencoded");var r=new URLSearchParams;r.append("nombre",e.state.form.nombre),r.append("precioUni",e.state.form.precioUni),r.append("categoria",e.state.form.categoria),r.append("descripcionBasica",e.state.form.descripcionBasica),r.append("marca",e.state.form.marca),r.append("descripcion",e.state.form.descripcion),r.append("stock",e.state.form.stock),r.append("minimo",e.state.form.minimo),r.append("codigoBarra",e.state.form.minimo);var o={method:"POST",headers:n,body:r,redirect:"follow"};fetch("".concat(O,"/producto"),o).then((function(e){return e.text()})).then((function(t){var a=JSON.parse(t);if(console.log(a),!a.ok)return J.fire({icon:"error",title:"Oops...",text:a.err.message});J.fire("Guardado exitoso","Se guard\xf3 "+a.producto.nombre+" de manera exitosa!","success"),e.props.history.push("/productos")})).catch((function(e){return console.log("error",e)}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){null===localStorage.getItem("administrador")&&this.props.history.push("/ingresar")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement(l.b,{to:"/productos",className:"mb-2 btn btn-outline-danger float"},"Volver al listado"),r.a.createElement("p",{className:"text-center h3 mb-2"},"Agregar producto"),r.a.createElement(D,{onChange:this.handleChange,formValues:this.state.form,onSubmit:this.handleSubmit})))}}]),a}(r.a.Component),P=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},this.props.categoria._id),r.a.createElement("td",null,this.props.categoria.categoria.descripcion+" - "+this.props.categoria.descripcion),r.a.createElement("td",null,"Editar - Eliminar"))}}]),a}(r.a.Component),U=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){null===localStorage.getItem("administrador")&&this.props.history.push("/ingresar")}},{key:"render",value:function(){return r.a.createElement("div",{className:"mx-3 mt-3"},r.a.createElement("div",null,r.a.createElement(l.b,{to:"/categoria/agregar",className:"btn btn-outline-success float-right mb-2"},"Agregar categoria"),r.a.createElement(l.b,{to:"/",className:"btn btn-outline-danger float-right mb-2 mr-2"},"Volver al inicio")),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"id"),r.a.createElement("th",{scope:"col"},"Categoria"),r.a.createElement("th",{scope:"col"},"Acciones"))),r.a.createElement("tbody",null,this.props.categorias.map((function(e){return r.a.createElement(P,{key:e._id,categoria:e})})))))}}]),a}(r.a.Component),T=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={data:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;null===localStorage.getItem("administrador")&&this.props.history.push("/ingresar");var t=JSON.parse(localStorage.getItem("administrador")),a=new Headers;a.append("token",t.token);var n={method:"GET",headers:a,redirect:"follow"};fetch("".concat(O,"/subcategoria"),n).then((function(e){return e.text()})).then((function(t){var a=JSON.parse(t);console.log(a),e.setState({data:a.categorias})})).catch((function(e){return console.log("error",e)}))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{categorias:this.state.data}))}}]),a}(r.a.Component),V=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container bg-light border rounded p-4"},r.a.createElement("form",{onSubmit:this.props.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Descripci\xf3n: (obligatorio)"),r.a.createElement("input",{onChange:this.props.onChange,className:"form-control",type:"text",name:"descripcion",value:this.props.formValues.descripcion})),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success btn-block"},"Guardar")))}}]),a}(r.a.Component),B=a(13),G=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={categorias:[],form:{descripcion:"",categoria:""}},e.handleChange=function(t){e.setState({form:Object(E.a)(Object(E.a)({},e.state.form),{},Object(v.a)({},t.target.name,t.target.value))})},e.handleSubmit=function(t){t.preventDefault();var a=JSON.parse(localStorage.getItem("administrador")),n=new Headers;n.append("token",a.token),n.append("Content-Type","application/x-www-form-urlencoded");var r=new URLSearchParams;r.append("descripcion",e.state.form.descripcion),r.append("categoria",e.state.form.categoria);var o={method:"POST",headers:n,body:r,redirect:"follow"};fetch("".concat(O,"/subcategoria"),o).then((function(e){return e.text()})).then((function(t){var a=JSON.parse(t);if(console.log(a),!a.ok)return B.fire({icon:"error",title:"Oops...",text:a.err.message});B.fire("Guardado exitoso","Se guard\xf3 "+a.categoria.descripcion+" de manera exitosa!","success"),e.props.history.push("/categorias")})).catch((function(e){return console.log("error",e)}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;null===localStorage.getItem("administrador")&&this.props.history.push("/ingresar");var t=JSON.parse(localStorage.getItem("administrador"));try{var a=new Headers;a.append("token",t.token);var n={method:"GET",headers:a,redirect:"follow"};fetch("".concat(O,"/categoria"),n).then((function(e){return e.text()})).then((function(t){var a=JSON.parse(t).categorias;e.setState({categorias:a})})).catch((function(e){return console.log("error",e)}))}catch(r){}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement(l.b,{to:"/categorias",className:"mb-2 btn btn-outline-danger float"},"Volver al listado"),r.a.createElement("p",{className:"text-center h3 mb-2"},"Agregar categoria"),r.a.createElement("div",{className:"container bg-light border rounded p-4"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Descripci\xf3n: (obligatorio)"),r.a.createElement("input",{onChange:this.handleChange,className:"form-control",type:"text",name:"descripcion",value:this.state.form.descripcion})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Categoria Padre: (obligatorio)"),r.a.createElement("select",{onChange:this.handleChange,className:"form-control",name:"categoria",value:this.state.form.categoria},r.a.createElement("option",{value:"none",hidden:!0},"Select an Option"),this.state.categorias.map((function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.descripcion)})))),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success btn-block"},"Guardar")))))}}]),a}(r.a.Component),M=a(13),F=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={form:{descripcion:""}},e.handleChange=function(t){e.setState({form:Object(E.a)(Object(E.a)({},e.state.form),{},Object(v.a)({},t.target.name,t.target.value))})},e.handleSubmit=function(t){t.preventDefault();var a=JSON.parse(localStorage.getItem("administrador")),n=new Headers;n.append("token",a.token),n.append("Content-Type","application/x-www-form-urlencoded");var r=new URLSearchParams;r.append("descripcion",e.state.form.descripcion);var o={method:"POST",headers:n,body:r,redirect:"follow"};fetch("".concat(O,"/marca"),o).then((function(e){return e.text()})).then((function(t){var a=JSON.parse(t);if(console.log(a),!a.ok)return M.fire({icon:"error",title:"Oops...",text:a.err.message});M.fire("Guardado exitoso","Se guard\xf3 "+a.marca.descripcion+" de manera exitosa!","success"),e.props.history.push("/marcas")})).catch((function(e){return console.log("error",e)}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){null===localStorage.getItem("administrador")&&this.props.history.push("/ingresar")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement(l.b,{to:"/marcas",className:"mb-2 btn btn-outline-danger float"},"Volver al listado"),r.a.createElement("p",{className:"text-center h3 mb-2"},"Agregar marca"),r.a.createElement(V,{onChange:this.handleChange,formValues:this.state.form,onSubmit:this.handleSubmit})))}}]),a}(r.a.Component),H=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={form:{descripcion:"",imagen:""}},e.handleChange=function(t){e.setState({form:Object(E.a)(Object(E.a)({},e.state.form),{},Object(v.a)({},t.target.name,t.target.value))}),console.log(e.state)},e.handleSubmit=function(t){t.preventDefault();var a=document.querySelector("#imagen-producto"),n=new FormData;n.append("archivo",a.files[0],a.files[0].name);var r={method:"PUT",body:n,redirect:"follow"};fetch("http://localhost:3000/upload/producto/"+e.state.form.descripcion,r).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}))},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container bg-light border rounded p-4"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Descripci\xf3n: (obligatorio)"),r.a.createElement("input",{onChange:this.handleChange,className:"form-control",type:"text",name:"descripcion",value:this.state.form.descripcion})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Example file input"),r.a.createElement("input",{type:"file",id:"imagen-producto",onChange:this.handleChange,className:"form-control-file",name:"imagen",value:this.state.form.imagen})),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success btn-block"},"Guardar")))}}]),a}(r.a.Component),R=a(13),_=(r.a.Component,function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={data:{},token:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("administrador"));null===t&&this.props.history.push("/ingresar");var a=new Headers;a.append("token",t.token);var n={method:"GET",headers:a,redirect:"follow"};fetch("".concat(O,"/subproducto/").concat(this.props.match.params.productId),n).then((function(e){return e.text()})).then((function(a){var n=JSON.parse(a);e.setState({data:n.res,token:t.token}),console.log(e.state)})).catch((function(e){return console.log("error",e)}))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"jumbotron m-5"},r.a.createElement(l.b,{to:"/productos",className:"mb-2 btn btn-outline-danger float-right"},"Volver al listado"),r.a.createElement("h1",{className:"display-4"},this.state.data.nombre),r.a.createElement("p",{className:"lead d-inline-block mt-2"},"Precio: ".concat(this.state.data.precioUni)),r.a.createElement("p",{className:"lead d-inline-block mt-2 ml-5"},"Stock: ".concat(this.state.data.stock)),r.a.createElement("br",null),r.a.createElement("p",{className:"lead d-inline-block mt-2"},"Stock m\xednimo: ".concat(this.state.data.minimo)),r.a.createElement("p",{className:"lead d-inline-block mt-2 ml-5"},"C\xf3digo de barra: ".concat(this.state.data.codigoBarra)),r.a.createElement("br",null),r.a.createElement("p",{className:"lead d-inline-block mt-2"},"Peso del producto: ".concat(this.state.data.peso)),this.state.data.img&&r.a.createElement("img",{src:"".concat(O,"/imagen/producto/").concat(this.state.data.img,"?token=").concat(this.state.token),alt:"...",class:"img-thumbnail"}),r.a.createElement("hr",{className:"my-4"})))}}]),a}(r.a.Component)),L=a(13),W=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={form:{nombre:"",precioUni:"",stock:"",minimo:"",peso:"",codigoBarra:""}},e.handleChange=function(t){e.setState({form:Object(E.a)(Object(E.a)({},e.state.form),{},Object(v.a)({},t.target.name,t.target.value))}),console.log(e.state)},e.handleSubmit=function(t){t.preventDefault();var a=JSON.parse(localStorage.getItem("administrador"));console.log(e.state);var n=new Headers;n.append("token",a.token),n.append("Content-Type","application/x-www-form-urlencoded");var r=new URLSearchParams;r.append("nombre",e.state.form.nombre),r.append("precioUni",e.state.form.precioUni),r.append("peso",e.state.form.peso),r.append("stock",e.state.form.stock),r.append("minimo",e.state.form.minimo),r.append("codigoBarra",e.state.form.codigoBarra);var o={method:"PUT",headers:n,body:r,redirect:"follow"};fetch("".concat(O,"/subproducto/").concat(e.props.match.params.productId),o).then((function(e){return e.text()})).then((function(t){var a=JSON.parse(t);if(console.log(a),!a.ok)return L.fire({icon:"error",title:"Oops...",text:a.err.message});L.fire("Guardado exitoso","Se guard\xf3 "+a.producto.nombre+" de manera exitosa!","success"),e.props.history.push("/productos")})).catch((function(e){return console.log("error",e)}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("administrador"));null===t&&this.props.history.push("/ingresar");var a=new Headers;a.append("token",t.token);var n={method:"GET",headers:a,redirect:"follow"};fetch("".concat(O,"/subproducto/").concat(this.props.match.params.productId),n).then((function(e){return e.text()})).then((function(t){var a=JSON.parse(t);e.setState({form:a.res}),console.log(e.state)})).catch((function(e){return console.log("error",e)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-2"},r.a.createElement(l.b,{to:"/productos",className:"mb-2 btn btn-outline-danger float"},"Volver al listado"),r.a.createElement("p",{className:"text-center h3 mb-2"},"Agregar subproducto"),r.a.createElement(D,{onChange:this.handleChange,formValues:this.state.form,onSubmit:this.handleSubmit})))}}]),a}(r.a.Component);var q=function(){return r.a.createElement(l.a,null,r.a.createElement(g,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:b}),r.a.createElement(i.a,{exact:!0,path:"/ingresar",component:k}),r.a.createElement(i.a,{exact:!0,path:"/prueba",component:H})," ",r.a.createElement(i.a,{exact:!0,path:"/describirProducto/:productId",component:_}),r.a.createElement(i.a,{exact:!0,path:"/editarProducto/:productId",component:W}),r.a.createElement(i.a,{exact:!0,path:"/producto/agregar",component:A}),r.a.createElement(i.a,{exact:!0,path:"/productos",component:C}),r.a.createElement(i.a,{exact:!0,path:"/categorias",component:T}),r.a.createElement(i.a,{exact:!0,path:"/marcas",component:I}),r.a.createElement(i.a,{exact:!0,path:"/categoria/agregar",component:G}),r.a.createElement(i.a,{exact:!0,path:"/marca/agregar",component:F}))))};c.a.render(r.a.createElement(q,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.46c6d4b4.chunk.js.map